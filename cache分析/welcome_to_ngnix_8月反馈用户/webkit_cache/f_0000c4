
(function(){var K=window,n=document,H=n.referrer,a=n.documentElement,t=location,F=navigator.userAgent.toLowerCase();if(K.GridsumWebDissector){return}var x={errorUrl:".google-analytics.com/__utm.gif?utmwv=4.3&utmn=1258739316&utmhn=www.gridsum.com&utmhid=1819935857&utmr=-&gsrd={0}&utmp=/WD-v{1}-{2}/{3}-{6}/Error-{4}/UA-{5}/&utmac={8}&utmcc=__utma%3D94480714.{0}.{7}.{7}.{7}.1%3B%2B__utmz%3D94480714.{7}.1.1.utmcsr%3D(direct)%7Cutmccn%3D(direct)%7Cutmcmd%3D(none)%3B",funcList:[],handlers:[],voidFunc:function(M){return M},lower:function(M){return(M&&M.toLowerCase)?M.toLowerCase():M},indexOf:function(Q,P,O){if(Q){if(Q.indexOf){return Q.indexOf(P,O)}else{if(Q.length){for(var N=O||0,M=Q.length;N<M;N++){if(Q[N]===P){return N}}}}}return-1},getHashCode:function(Q,M){var P=1315423911,N,O;if(!M){Q=c(Q)}for(N=Q.length-1;N>=0;N--){O=Q.charCodeAt(N);P^=((P<<5)+O+(P>>2))}return(P&2147483647)},getRandomString:function(Q){var P,N=[],O="abcdefghijklmnopqrstuvwxyz0123456789",M=35;for(P=0;P<Q;P++){N.push(O.charAt(Math.round(Math.random()*M)))}return N.join("")},getRandomID:function(){var N=new Date().getTime()+"";var O=""+Math.abs(x.getHashCode(t.href+H+F));var M=O.length>2?2:O.length;O=O.substring(0,M);return N.substring(2,N.length-3)+x.getRandomString(6)+O},getUrlParam:function(O,Q,N,M){if(!Q){return null}O=(O||(t.pathname+t.search)).replace(/\#.*/ig,"");var R=["&","?",""];for(var P=0;P<3;P++){var S=x.find(O,R[P]+Q+"=","&",N);if(S!=null){return M?b(S):S}}return null},find:function(S,Q,R,N,P){var O=x.findArray(S,Q,R,N,P),M=O.length;return M>0?O[M-1]:null},findArray:function(Q,P,V,S,R){if(!Q||!Q.length){return[]}var O=[],N,U,X,W,T,M=0;P=P||"";if(!S){W=c(Q);P=c(P);V=c(V)}while(M>-1){T=null;if((N=s(W,P,M))>-1){X=N+P.length;if(!V){T=Q.substring(X);M=-1}else{U=s(W,V,X);if(U>=X){T=Q.substring(X,U);M=U+V.length}else{T=Q.substring(X);M=-1}}}if(!T){break}O.push(!R?x.trim(T):T)}return O},getTimeZone:function(){return Math.round(new Date().getTimezoneOffset()/-60)+""},getLocalTime:function(){return new Date().getTime()+x.getTimeZone()*3600000},isPageMatch:function(R,P,Q){Q=c(Q||t.pathname);P=c(P);if(!y(R)){R=[R]}for(var O=0,M=R.length;O<M;O++){var N=c(R[O]);if((P=="contains"&&s(Q,N)>-1)||(P=="startswith"&&s(Q,N)==0)||(P=="endswith"&&s(Q,N,Q.length-N.length)>-1)||(P=="exactmatch"&&Q==N)||(P=="regex"&&N.test&&N.test(Q))){return true}}return false},getCookie:function(N,P,M){if(!N){return null}var Q,O=x.toDict(n.cookie,"=",";",true);N=c(N);for(Q in O){if(f(O,Q)&&c(Q)===N){return M?O[Q]:b(O[Q])}}return P||null},setCookie:function(O,Q,M,S,P,R,N){if(!O){return}O=c(O);if(!N){Q=e(Q)}O=O+"="+Q+";";M=M?("expires="+x.getExpireDate(M).toGMTString())+";":"";S=!!S?"path="+S+";":"path=/;";P=P?("domain="+P)+";":"";R=R?"secure=true;":"";n.cookie=[O,M,S,P,R].join("")},delCookie:function(M,O,N){x.setCookie(M,"",-1000,O,N)},getExpireDate:function(M){return new Date(new Date().getTime()+M*1000)},trim:function(M){return(M&&M.replace)?M.replace(/(^\s+)|(\s+$)/ig,""):M},toDict:function(T,M,N,U){var Q,V,P,S,O,R={};M=M||"=";N=N||"&";P=T.split(N);O=U?x.trim:x.voidFunc;for(Q=0,S=P.length;Q<S;Q++){V=s(P[Q],M);if(V>-1){R[O(P[Q].substring(0,V))]=O(P[Q].substring(V+1))}else{R[P[Q]]=null}}return R},resolveUrl:function(O){var N,P=/((\w+:)?\/\/([^\/\#&?]*))?\/?([^?#&]*)?(\?[^#]*)?(#.*)?/,M={url:O},Q;if((N=O.match(P))){Q=N[2]||t.protocol;M.protocol=Q.substring(0,Q.length-1);M.local=M.protocol=="file";M.host=N[3]||t.host;M.path="/"+(N[4]||"");M.fullPath=M.path;M.query=(N[5]||"").substring(1);M.anchor=(N[6]||"").substring(1);if(M.query){M.fullPath+="?"+M.query;M.params=x.toDict(M.query.replace(/\?/g,"&"))}}else{M.local=true;M.protocol="file";M.fullPath=M.path="/"+O.replace(/\\/g,"/")}return M},encode:function(M){if(!M||!M.replace){return M}return(K.encodeURIComponent||escape)(M)},decode:function(N){if(N&&N.replace){N=N.replace(/\+/ig,"%20");try{return(K.decodeURIComponent||unescape)(N)}catch(M){}}return N},serialize:function(Q,S,R,M,O){var P=[],N=!O?e:x.voidFunc;S=S||"=";R=R||"&";for(var T in Q){if(f(Q,T)&&(M||Q[T]||Q[T]===0)){P.push(T+S+N(Q[T]))}}return P.join(R)},getEl:function(M){return M.split?n.getElementById(M):M},waitFor:function(Q,P,M,N){M=M||1000;N=N||30;var O=setInterval(function(){if(Q.split){var T,V=Q.split(".",3),R=V.length,U=K;if(R>1){for(var S=0;S<R;S++){if(!S||V[S]!="window"){U=U[V[S]];if(!U){break}}}T=U}}if(T||(T=x.getEl(Q))){clearInterval(O);P(T)}else{if(N>0){N-=1}else{clearInterval(O)}}},M)},getPos:function(N){var M,O,Q,U=null,T=[],R=n.body,V={};if(N.parentNode===null||N.style.display=="none"){return false}if(N.getBoundingClientRect){Q=N.getBoundingClientRect();M=Math.max(a.scrollTop,R.scrollTop);O=Math.max(a.scrollLeft,R.scrollLeft);if(n.compatMode=="BackCompat"&&l){V={x:Q.left,y:Q.top}}else{V={x:Q.left+O,y:Q.top+M}}return V}else{if(n.getBoxObjectFor){Q=n.getBoxObjectFor(N);var S=(N.style.borderLeftWidth)?parseInt(N.style.borderLeftWidth,10):0;var P=(N.style.borderTopWidth)?parseInt(N.style.borderTopWidth,10):0;T=[Q.x-S,Q.y-P]}else{T=[N.offsetLeft,N.offsetTop];U=N.offsetParent;if(U!=N){while(U){T[0]+=U.offsetLeft;T[1]+=U.offsetTop;U=U.offsetParent}}if(s(F,"opera")!=-1||(s(F,"safari")!=-1&&N.style.position=="absolute")){T[0]-=R.offsetLeft;T[1]-=R.offsetTop}}}if(N.parentNode){U=N.parentNode}else{U=null}while(U&&U.tagName!="BODY"&&U.tagName!="HTML"){T[0]-=U.scrollLeft;T[1]-=U.scrollTop;if(U.parentNode){U=U.parentNode}else{U=null}}V={x:T[0],y:T[1]};return V},getDocWidth:function(){return(a&&a.scrollWidth)||(n.body&&n.body.scrollWidth)||0},getPointer:function(N){var M=n.body||{scrollLeft:0,scrollTop:0};return{x:N.pageX||(N.clientX+(a.scrollLeft||M.scrollLeft)-(a.clientLeft||0)),y:N.pageY||(N.clientY+(a.scrollTop||M.scrollTop)-(a.clientTop||0))}},observe:function(N,M,P){N=x.getEl(N);if(!N){return null}function O(R){if(!R.target){R.target=R.srcElement||N}if(!R.pageX){var Q=x.getPointer(R);R.pageX=Q.x;R.pageY=Q.y}R.root=N;P.call(N,R)}if(N.addEventListener){N.addEventListener(M,O,false)}else{N.attachEvent("on"+M,O)}return N},format:function(M){if(arguments.length==1){return M}else{var O=arguments.length;for(var N=1;N<O;N++){M=M.replace(new RegExp("\\{"+(N-1)+"\\}","g"),arguments[N])}return M}},getInnerText:function(M){M=x.getEl(M);if(M&&M.innerHTML){return M.innerHTML.replace(/<[^>]+>/ig,"")}return null},report:function(P,V,W,R){try{W=W||{};R=R||"UA-26783561-3";var X=/[\s\?#;&]/ig,N=x.errorUrl,M=(e(F.replace(X,"'"))).substring(0,500),S=g.version,Q=new Image(1,1),O=new Date().getTime(),U=Math.round(Math.random()*2147483647);N=(location.protocol=="https:"?"https://ssl":"http://www")+N;N=x.format(N,U,S,V,P,e(x.serialize(W,"~","'")),M,t.host,O,R);Q.onload=function(){return true};Q.onerror=function(){return true};Q.src=N}catch(T){}}};var c=x.lower,s=x.indexOf,e=x.encode,b=x.decode,q=Array.prototype.slice;function y(M){return!!(M&&M.constructor==Array)}function f(M,N){return(M&&M.hasOwnProperty)?M.hasOwnProperty(N):false}function m(M){return typeof M=="string"}function z(O,M,P){var N=this;N.host=O;N.reqParams=M||[];N.optParams=P||[]}z.prototype={testHost:function(M){var N=this.host;if(m(N)){return s(M,N)>-1}else{return N.test&&N.test(M)}},match:function(M){var R,T,U,N,X=0,S=this,O=x.resolveUrl(M),Q={},V=S.reqParams,P=S.optParams,W=O.host;if(S.testHost(W)){if((N=O.params)){for(R in N){if(f(N,R)){N[c(R)]=N[R]}}for(R=0,T=V.length;R<T;R++){U=N[V[R]];if(!U){return false}else{Q[V[R]]=U;X++}}for(R=0,T=P.length;R<T;R++){U=N[P[R]];if(U){Q[P[R]]=U;X++}}}else{if(V.length){return false}}return{host:W,params:Q,paramCount:X}}return false}};function D(){var P=/\.net clr ([\d\.]+?)[;$ ]|.net([\d\.]+?)[ce][;$ ]/ig,O,N,M;while((O=P.exec(F))){N=O[1]||O[2];if(!M||N>M){M=N}}return M}function o(O,N){N=N||F;var M=N.match(O);return M?M[1]:null}function E(){var U,P,N=navigator.plugins,R,M,Q,O,T;if(N&&(R=N.length)>0){for(P=0;P<R;P++){U=c(N[P].description);M=c(N[P].name);if(!Q&&U&&s(U,"shockwave flash")>-1){Q=o(/shockwave flash (\d+\.\d+)/i,U)}if(!O&&M&&U&&s(M,"silverlight")>-1){O=o(/(\d+\.\d+)/i,U)}}}else{if(K.ActiveXObject){for(P=20;P>=2;P--){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+P)){Q=P+".0";break}}catch(S){}}try{if((T=new ActiveXObject("AgControl.AgControl"))){for(P=10;P>0;P--){if(T.IsVersionSupported(P+".0")){O=P+".0";break}}}}catch(S){}}}return{flash:Q,silverlight:O}}function l(){return"\v"=="v"}function L(M,N){this.name=M;this.pattern=N}L.prototype.match=function(R){var P,M,Q=this,O=R.match(Q.pattern),N=Q.name;if(O){for(P=0,M=O.length;P<M;P++){N=N.replace("$"+P,O[P]||"")}return x.trim(N)}return null};function i(M,N){return new L(M,N)}function r(N,P,M){var O=this;O.name=N;O.pattern=P;O.mobile=M}r.prototype.match=function(R){var P,M,Q=this,O=R.match(Q.pattern),N=Q.name;if(O){for(P=0,M=O.length;P<M;P++){N=N.replace("$"+P,O[P]||"")}return{name:x.trim(N),mobile:Q.mobile}}return null};function I(N,O,M){return new r(N,O,M)}function p(){x.setCookie("gs_tc","1");var M=x.getCookie("gs_tc");x.delCookie("gs_tc");return!!M}function w(M){var N=this,O=navigator;N.analyze=function(){if(N.browser){return N.browser}var S={};try{var Z,R,U,W=screen,X=l()?O.browserLanguage:O.language,Y=M.os,Q=M.browsers,T=E(),P=O.userAgent.replace("_",".");S.os=O.platform;for(R=0,U=Y.length;R<U;R++){if((Z=Y[R].match(P))){S.os=Z.name;S.mobile=Z.mobile;break}}S.browser=O.appName;for(R=0,U=Q.length;R<U;R++){if((Z=Q[R].match(P))){S.browser=Z;break}}S.flash=T.flash;S.silverlight=T.silverlight;S.alexa=s(F,"alexa")>-1?1:0;S.resolution=W.width+"*"+W.height;S.colorDepth=W.colorDepth||32;S.osLang=c(O.systemLanguage);try{S.javaEnabled=O.javaEnabled()?1:0}catch(V){}S.dotNet=D();S.browserLang=c(X);S.cookieEnabled=p()?1:0;return(N.browser=S)}catch(V){x.report(M.serviceID,"M_Browser",V);return S}}}function k(N,U,P,Q,T,S,M,O){var R=this;R.name=N;R.host=U;R.termKey=P;R.encKey=Q;R.startKey=S;R.numKey=M;R.defEnc=T||"utf-8";R.pagingType=O;Q=Q||"ie";R.evaluator=new z(U,[P],[S,M,Q])}k.prototype.match=function(O){var S,N,Q,R,P=this,M=P.evaluator.match(O);if(!M){return false}R=M.params;S=Number(R[P.startKey]);N=Number(R[P.numKey]);S=(isNaN(S)?1:S);N=(isNaN(N)?10:N);if(!P.pagingType){Q=Math.round(S/N)+1}else{if(P.pagingType==1){Q=S+1}else{Q=S}}M.page=Q;M.keywords=R[P.termKey];M.encoding=R[P.encKey]||P.defEnc;if(M.encoding==="utf8"){M.encoding="utf-8"}return M};function u(R,S,Q,M,N,T,P,O){return new k(R,S,Q,M,N,T,P,O)}function A(M){var N=this;function O(P){if(N.suffix){P=P+N.suffix}else{P=P+"_"+x.getHashCode(M.serviceID+"_"+M.domain)}return e(P)}N.get=function(P,R){var Q=O(P);return x.getCookie(Q,R,true)};N.set=function(Q,T,P,V,S,U){var R=O(Q);S=S||M.domain;V=V||M.path;U=U||M.secure;x.setCookie(R,T,P,V,S,U,true)};N.remove=function(P){N.set(P,"0",-1000)}}function C(N){var P=this,O=N.tracker,Q="UA-26783561-2";function M(U,S,T){T=T||N.serviceUrls[0];return T+"?"+x.serialize(U,"=","&",false,S)}function R(Y,T,X){Y.rd=x.getRandomString(5);var W=N.serviceID,U,S=new Image(1,1),V={};g.execHook("sender.send",Y,X,V);if(V.cancel){return}U=M(Y,T,X).substring(0,2000);S.onerror=function(){setTimeout(function(){var Z=new Image(1,1);Z.onload=function(){x.report(W,"RetrySuccess",{cmd:Y.gscmd},Q)};Z.onerror=function(){x.report(W,"SendingFailed",{cmd:Y.gscmd},Q);return true};Z.src=U},2000);return true};S.onload=function(){};S.src=U;P.img=S}P.checkUrl=function(U,S,T){U.rd=x.getRandomString(5);return M(U,S,T).length<=2000};P.send=function(X,T,V){if(!X){return}if(!V){var W=N.serviceUrls;for(var U=0,S=W.length;U<S;U++){R(X,T,W[U])}}else{R(X,T,V)}}}function G(M){var N=this;N.parse=function(Q){try{var ae,Z,P,ab,R,T,ai,S=M.keepAnchor,U=M.ignoreParams,V=M.campaignKey,ac=M.keywordKey,Y=M.sourceKey,aj=M.mediumKey,O=M.contentKey,ag=M.groupKey,W=M.channelKey,ah=M.ad,X=M.cleanUrl;Q=Q||t.href;ab=x.resolveUrl(Q);P={protocol:ab.protocol,local:ab.isLocal,host:ab.host,path:ab.fullPath,anchor:ab.anchor,params:ab.params};if(S&&ab.anchor){P.path+="#"+ab.anchor}if(X){P.cleanUrl=X}else{if(U.length!==0&&ab.params){for(var aa in ab.params){for(ae=0;ae<U.length;ae++){if(c(aa)==U[ae]){delete ab.params[aa]}}}for(ae=0;ae<U.length;ae++){delete ab.params[U[ae]]}Z=x.serialize(ab.params,"=","&",false,true);if(Z){Z="?"+Z}if(S&&ab.anchor){Z+=("#"+ab.anchor)}P.cleanUrl=[ab.protocol,"://",ab.host,ab.path,Z].join("")}else{P.cleanUrl=[ab.protocol,"://",ab.host,P.path].join("")}}if(!P.local){R=new z(ab.host,[],[V,ac,Y,aj,O,ag,W]);if((T=R.match(t.href.replace(/#/g,"&")))){ai=T.params;if(T.paramCount!==0){ah.campaign=ah.campaign||b(ai[V]);ah.group=ah.group||b(ai[ag]);ah.source=ah.source||b(ai[Y]);ah.medium=ah.medium||b(ai[aj]);ah.keyword=ah.keyword||b(ai[ac]);ah.content=ah.content||b(ai[O]);ah.channel=ah.channel||b(ai[W])}}P.ad=ah}return P}catch(af){x.report(M.serviceID,"M_Url",af)}}}function v(O){var P=this,S=new A(O),N={},M={};function R(){var X,V=P.uid,U=P.sid,T=[],W=[];for(X in N){if(f(N,X)){T.push(X+":"+e(N[X]))}}if(T.length>0){V=V+"|"+T.join("|")}for(X in M){if(f(M,X)){W.push(X+":"+e(M[X]))}}if(W.length>0){U=U+"|"+W.join("|")}S.set("_gscu",V,63072000);S.set("_gscs",U,1800);S.set("_gscbrs",1)}function Q(Z){if(!Z){return null}var W,U,X=/[^\d\w]+/i,T={},Y={},aa=Z.split("|"),V;if(aa[0].length>30||X.test(aa[0])){return null}T.id=aa[0];for(W=1,U=aa.length;W<U;W++){V=aa[W].split(":");Y[V[0]]=b(V[1])}T.data=Y;return T}P.init=function(){try{var X,U,Z,T,V,W="";N={};M={};if(O.crossDomain){X=x.getUrlParam(t.href.replace("#","&"),"_gsc");if(X){X=X.split(";");if(X.length==2){T=b(X[0]);V=b(X[1]);U=1;Z=true}}}if(!Z){T=S.get("_gscu");V=S.get("_gscs");U=S.get("_gscbrs")}if((T=Q(T))){P.uid=T.id;N=T.data;if(U&&(V=Q(V))){P.sid=V.id;M=V.data}else{if(!V&&U){W="t"}else{if(V&&!U){W="n"}}P.sid=W+x.getRandomID()}}else{P.uid=x.getRandomID();P.sid=x.getRandomID()}R()}catch(Y){x.report(O.serviceID,"M_User",Y);P.uid=x.getRandomID();P.sid=x.getRandomID();N={};M={};R()}};P.saveSessionData=function(T,U){M[T]=U+"";R()};P.saveUserData=function(T,U){N[T]=U+"";R()};P.get=function(T){return N[T]||M[T]||null};P.serialize=function(){return"_gsc="+S.get("_gscu")+";"+S.get("_gscs")};P.isSampled=function(){var T=O.sample,U=x.getHashCode(P.uid);return U%10000<T*100}}function d(M){var N=this;N.parse=function(W){try{var S,R,T,V,P,O={},Q=M.searchEngines;if(!W){try{W=K.top.document.referrer}catch(U){W=H}}if(!W){try{if(K.opener){W=K.opener.location.href}}catch(U){}}if(!W){O.type="direct"}else{P=x.resolveUrl(W);O.referrer=W;O.domain=c(P.host);O.path=P.fullPath;O.type="referral";if(!P.local){for(R=0,T=Q.length;R<T;R++){V=Q[R];S=V.match(W);if(S){O.type="organic search";O.keywords=S.keywords;O.searchEngine=V.name;O.encoding=S.encoding;O.page=S.page;break}}}}return O}catch(U){x.report(M.serviceID,"M_Referrer",U)}}}function J(N){var S=this,Q,P,T=N.tracker,V=N.origin;function U(){if(!N.heatmap){return false}if(N.mcSample==100){return true}return Math.round(Math.random()*10000)<N.mcSample*100}function Y(){if(N.docWidth){Q=(x.getDocWidth()-N.docWidth)/2;P=0}else{if(V){var Z=x.getPos(V);Q=Z.x;P=Z.y}}}function O(aa,Z){Y();return{x:aa-Q,y:Z-P}}function X(ah,ag,af,aj){var ab,ad=Number(K[N.snapshotVar]||0),ae=T.getCommon("mc"),aa=T.url,ac=aa.parse(),ai=[],Z={};if(!(ad>-1&&ad<256)){ad=0}g.execHook("heatmap.send",ae,ah,ag,af,aj,Z);if(Z.cancel){return}ae.gspver=N.pageVer;ae.gsmcoffsetx=Math.round(ah/10)*10;ae.gsmcoffsety=Math.round(ag/10)*10;ai=[ac.protocol,"://",ac.host,ac.path];if(N.keepAnchor&&ac.anchor){ai.push("#",ac.anchor)}ae.gsmcurl=ai.join("");ae.gstl=N.pageName||n.title;ae.gssn=ad;ae.gsorurl=ac.cleanUrl;T.sender.send(ae)}function R(ad){try{if(!U()){return}var ac,Z,ab=c(ad.target.tagName);if(ab=="body"||ab=="html"){return}var ae=O(ad.pageX,ad.pageY);X(ae.x,ae.y,this,ad)}catch(aa){x.report(N.serviceID,"M_Heatmap_doc",aa)}}function W(ab,ac){try{var Z=x.getPos(ab),ad=O(ac.clientX,ac.clientY);X(ad.x+Z.x,ad.y+Z.y,ab,ac)}catch(aa){x.report(N.serviceID,"M_Heatmap_iframe",aa)}}function M(){var ac,aa,af=N.iframes,Z=frames;if(af.length==0){for(ac=0,aa=Z.length;ac<aa;ac++){try{var ab=Z[ac].frameElement||Z[ac];if(ab.contentDocument){af.push(ab)}}catch(ae){}}}for(ac=0,aa=af.length;ac<aa;ac++){var ag=x.getEl(af[ac]);if(ag){try{ag=ag.frameElement||ag;var ad=ag.contentDocument;x.observe(ad,"mouseup",(function(ah){return function(ai){W(ah,ai)}})(ag))}catch(ae){}}}}S.bind=function(){if(S.isBind||!N.heatmap){return}S.isBind=true;x.observe(n,"mouseup",R);if(/loaded|complete/.test(n.readyState)){M()}else{x.observe(K,"load",M)}};S.init=function(){S.bind()}}function j(M){var N=this;N.orders=[];N.addOrder=function(Q,O,P){O=Number(O);N.orders.push({orderid:Q+"",price:O||0,quantity:0,user:P,products:[],recal:!O})};N.addProduct=function(O,aa,X,W,Q,P){try{var R,T,Y,Z,S,V=N.orders,ab={};O=O+"";W=Number(W)||0;Q=Number(Q)||0;for(R=0,T=V.length;R<T;R++){if(V[R].orderid==O){Y=V[R];break}}if(!Y){Y={orderid:O,price:0,quantity:0,products:[],recal:true};V.push(Y)}Z=Y.recal;S=Number((W*Q).toFixed(2));ab={orderid:O,name:aa,sku:X,quantity:Q,unitPrice:W,price:S,category:P};Y.quantity+=ab.quantity;Y.products.push(ab);if(Z){Y.price=Number((Y.price+S).toFixed(2))}}catch(U){x.report(M.serviceID,"FC_addProduct",U)}}}function h(O){var M=this,N=t.hostname;M.ad={};M.properties={};M.serviceID=O;M.serviceUrls=["//www.webdissector.com/recv/gs.gif","//recv-wd.gridsumdissector.com/gs.gif"];M.heatmapUrl="//www.webdissector.com/js/heatmap.js";M.redirectServer="//www.addissector.com/";M.redirectServerPath="/redirect.gif";M.campaignKey="utm_campaign";M.mediumKey="utm_medium";M.sourceKey="utm_source";M.groupKey="utm_adgroup";M.keywordKey="utm_term";M.contentKey="utm_content";M.channelKey="utm_channel";M.accountKey="utm_account";M.ignoreParams=["gclid","bdclkid",M.campaignKey,M.mediumKey,M.sourceKey,M.groupKey,M.keywordKey,M.contentKey,M.channelKey,M.accountKey];M.searchEngines=[u("google",/(\w+\.)*google\.(\w+|(com|co)\.\w+)/i,"q","ie","utf-8","start","num"),u("baidu",/(\w+\.)*baidu\.(com|cn|com\.cn)/i,"wd","ie","gb2312","pn","rn"),u("baidu",/(\w+\.)*baidu\.(com|cn|com\.cn)/i,"word","ie","gb2312","pn","rn"),u("yahoo",/(\w+\.)cn\.yahoo\.com/i,"q","ei","utf-8","b"),u("yahoo",/(\w+\.)*yahoo\.(\w+|(com|co)\.\w+)/i,"p","ei","utf-8","b"),u("yahoo",/(\w+\.)*yahoo\.cn/i,"q","ei","utf-8","b"),u("live",/(\w+\.)*live\.\w+/i,"q",null,"utf-8","first"),u("youdao.com",/(\w+\.)*youdao\.com/i,"q","ue","utf-8","start"),u("soso",/(\w+\.)*soso\.com/i,"w",null,"gb2312","pg",null,"page"),u("gougou",/(\w+\.)*gougou\.com/i,"search",null,"utf-8","page",null,1),u("sogou",/(\w+\.)*sogou\.com/i,"query",null,"gb2312","page",null,1),u("bing",/\bbing\.(\w+)/i,"q",null,"utf-8","first"),u("118114",/\b118114\.cn/i,"kw",null,"gb2312","start"),u("jike",/\bjike\.com/i,"q",null,"utf-8","page","ps",2),u("panguso",/\bpanguso\.com/i,"q",null,"utf-8","p","n",1),u("360",/\b360\.cn/i,"q",null,"utf-8","pn","",2),u("UC",/glb\.uc\.cn/i,"keyword",null,"utf-8","page","pagesize",2),u("OCN",/ocnsearch\.goo\.ne\.jp/i,"MT",null,"utf-8","FR","",1),u("fenrir",/search\.fenrir-inc\.com/i,"q",null,"utf-8","start","",1),u("nifty",/search\.nifty\.com/i,"q",null,"utf-8","start","",1),u("biglobe",/search\.biglobe\.ne\.jp/i,"q",null,"utf-8","start","num",1),u("sweetim",/search\.sweetim\.com/i,"q",null,"utf-8","start","",1),u("AVG",/isearch\.avg\.com/i,"q",null,"utf-8","pagenum","",1),u("mywebsearch",/search\.mywebsearch\.com/i,"searchfor",null,"utf-8"),u("aol",".aol.com","q"),u("lycos",".lycos.com","query"),u("ask",".ask.com","q"),u("altavista",".altavista.com","q"),u("netscape",".netscape.com","query"),u("cnn",".cnn.com","query"),u("gigablast",".gigablast.com","q"),u("search",".search.com","q"),u("pchome",".pchome.com","q")];M.contentNetworkKey="content_";M.os=[I("$1 / iOS$2",/^.*(iPhone|iPad|iPod).*? i?OS[\. ](\d(\.\d)?).*$/i,1),I("$1 $2",/(Android)[ \/\.]?(\d+[\._]\d+?)?/i,1),I("WindowsMobile $1",/WindowsMobile\/(\d+\.\d+)|windows ce/i,1),I("$1 $2",/(Windows Phone).*?(\d+\.\d+)/i,1),I("Symbian S$1",/Series ?(60|40)/i,1),I("$1 OS $2",/(BlackBerry)[^\/]*\/(\d\.\d)/i,1),I("$0",/Palm|Symbian|BlackBerry|Nokia|iPhone|Android|WindowsMobile/i,1),I("$1 8",/(Windows) nt 6.2/i),I("$1 7 or 2008R2",/(Windows) nt 6.1/i),I("$1 Vista or 2008",/(Windows) nt 6.0/i),I("$1 Server 2003",/(Windows) nt 5.2/i),I("$1 XP",/(Windows) nt 5.1/i),I("$1 2000",/(Windows) nt 5.0/i),I("Mac $1",/Mac os x (\d+\.\d+)|Macintosh/i),I("$0",/Linux|Windows 98/i)];M.browsers=[i("$1 $2",/(Firefox|Chrome|Opera|IEMobile|UCWeb|Opera Mini|NetFront|IceweaselBlackBerry|QQBrowser)[\/ ]?(\d+\.\d)/i),i("UCWeb $2",/(UCWeb|UCBrowser|\sUC\s)[ \/\.]?((\d+(\.\d+)?))?/i),i("$2 $1",/Version\/(\d+\.\d).*(Safari)/i),i("Safari",/AppleWebKit/i),i("$2$3 / IE $1",/msie (\d+)\.\d.*(Maxthon|TheWorld|Avant Browser|TencentTraveler|GreenBrowser|360SE)[ \/]?(\d+\.\d)?/i),i("Maxthon$3 / $1",/Apple(WebKit).*(Maxthon)[ \/]?(\d+\.\d)?/i),i("Sogou / IE $1",/msie (\d+)\.\d.*?se \d+/i),i("IE $1",/msie ?(\d+)\.\d?/i)];if(N.substring(0,4)=="www."){N=N.substring(4)}M.domain=N;M.path="/";M.sessionTimeout=30*60;M.sample=100;M.origin=n.body;M.mcSample=100;M.iframes=[];M.snapshotVar="GridsumSnapshotID"}function B(P){var R=this,Q=new h(P);Q.tracker=R;R.serviceID=P;R.config=Q;function N(){try{if(x.getCookie("_gsHijack")){return}if(top!=K&&top.location.href===t.href){x.report(P,"WebPageHijack");x.setCookie("_gsHijack",1)}}catch(V){}}function T(){var V=t.hostname;return t.protocol==="file:"||s(V,"localhost")>-1||s(V,"127.")==0||s(V,"192.168.")==0||s(V,"10.")==0||s(V,"172.")==0}function M(){var V=c(t.hash);return Q.heatmap&&s(V,"#gwdheatmap&")>-1&&s(V,P.substring(4))>-1}function U(){return!P||T()||M()||s(F,Q.ignoreUA)>-1||!R.user.isSampled()}function O(W){var V=R.user;return{gsver:g.version,gscmd:W,gssrvid:P,gsuid:V.uid,gssid:V.sid,gsltime:x.getLocalTime(),gstmzone:x.getTimeZone(),gsjp:Q.junction,rd:1}}function S(W){var V=R.browser.analyze();W.gsflver=V.flash;W.gsalexaver=V.alexa;W.gsbrname=V.browser;W.gsdotnetver=V.dotNet;W.gssil=V.silverlight;W.gsbrlang=V.browserLang;W.gsscr=V.resolution;W.gsclr=V.colorDepth;W.gsoslang=V.osLang;W.gsosname=V.os;W.gsje=V.javaEnabled;W.gsce=V.cookieEnabled;W.gsim=V.mobile}R.getCommon=O;R.init=function(){if(R.isInit){R.user.init();return}R.user=new v(Q);R.browser=new w(Q);R.referrer=new d(Q);R.url=new G(Q);R.ecom=new j(Q);R.sender=new C(Q);R.heatmap=new J(Q);R.user.init();var Y,W=g.plugins,V=W.length;for(Y=0;Y<V;Y++){var Z=W[Y],X=Z.name;R[X]=new Z.template(Q)}if(M()){R.showHeatmap()}if(!U()){if(Q.lazyBinding){x.observe(K,"load",function(){R.heatmap.init()})}else{R.heatmap.init()}}else{R.disabled=true}R.isInit=true};R.track=function(af,V){try{R.init();if(R.disabled){return}var ag=Q.properties,Y,am,ab=R.user,Z,W=R.url,aj=R.referrer,ai=Q.pageVer,ac=O("pv"),ah=(af&&V)?t.href:"",al=Q.contentNetworkKey;af=af||t.href;af=W.parse(af);ah=aj.parse(ah);Z=Number(ab.get("pv"))||0;ac.gsissecpv=(Z==1?1:0);ac.gstl=Q.pageName||n.title;ac.gspro=af.protocol;ac.gsdm=af.host;ac.gscp=x.serialize(ag,"::","||",false,false);ac.gschan=Q.ad.channel||(ah.searchEngine||ah.domain);if(ai){ac.gspver=ai}ac.gsreftype=ah.type||"";ac.gsrefdm=ah.domain;ac.gssename=ah.searchEngine;ac.gskwd=ah.keywords;ac.gsenc=ah.encoding;ac.gssepage=ah.page;am=af.ad;for(var X in am){if(f(am,X)){ac.gsispaid=(Y=1);break}}ac.gscamp=am.campaign;ac.gsgroup=am.group;ac.gscampsrc=am.source;ac.gsmedium=am.medium;ac.gscampkwd=am.keyword;ac.gscampcontent=am.content;if(Y){if(!H){ac.gsrefdm="(lost)";ac.gsrefpa="(lost)";ac.gsreftype="referral"}else{if(ah.searchEngine){ac.gsreftype="paid search"}}if(!ah.searchEngine&&s(am.medium,al)==0){ac.gsreftype="content network"}}S(ac);ac.gsorurl=af.cleanUrl;ac.gspa=af.path;ac.gsrefpa=ah.path||"";R.sender.send(ac);ab.saveSessionData("pv",Z+1);if(R.rsDomain&&Z==1&&(!H||s(H,R.rsDomain)>-1)){var ak=ac;ak.gscmd="rpv";var aa=[Q.redirectServer,x.getHashCode(R.rsDomain),Q.redirectServerPath].join("");R.sender.send(ak,false,aa)}N()}catch(ae){x.report(P,"FC_track",ae)}};R.trackLink=function(Y,X,W,V,Z){return R.trackEvent(X,"click",function(aa){R.track(Y,true)},W,V,Z)};R.trackEvent=function(Y,V,aa,X,W,Z){W=W||{};return x.observe(Y,V,function(ag){if(!ag||!ag.target){return}var af,ab,ae=ag.target,ad=c(X),ah=ag.root.parentNode,ac;do{ab=true;if(!ad||c(ae.tagName)==ad){ab=false;for(af in W){if(f(W,af)&&s(c(ae[af]||ae.getAttribute(af)),c(W[af]))<0){ab=true;break}}}if(ab){ae=ae.parentNode}else{ag.matched=ae;aa(ag);return}}while(!Z&&ae&&ae!=ah)})};R.trackECom=function(){try{R.init();if(R.disabled){return}var ac,aa,af,Y,V,ad=R.sender,ah=R.ecom.orders,ab=O("ecom"),W,X,aj,ai=[],Z=R.user,ae=Z.get("_gsecom");if(ae){ae=ae.split(",")}else{ae=[]}for(ac=0,af=ah.length;ac<af;ac++){X=ah[ac];V=e(X.orderid);if(s(ae,V)>-1){continue}ae.push(V);ab.gsorderid=X.orderid;ab.gstotal=X.price;ab.gsquan=X.quantity;ab.gsuserid=X.user;W=X.products;ai=[];for(aa=0,Y=W.length;aa<Y;aa++){aj=W[aa];aj=x.serialize(aj,"::",",,",false,true);ai.push(aj)}ab.gsproducts=ai.join("||");if(!ad.checkUrl(ab)){for(aa=0;aa<W.length;aa++){aj=W[aa];aj=x.serialize(aj,"::",",,",false,true);ab.gsproducts=aj;ad.send(ab)}}else{ad.send(ab)}}Z.saveSessionData("_gsecom",ae.join(","));R.ecom.orders=[]}catch(ag){x.report(P,"FC_trackECom",ag)}};R.trackClickthrough=function(aa,V){try{R.init();if(R.disabled){return}if(aa||V){var X=O("ct"),Z=R.lastSearchID;if(Z){X.gsssid=Z;if(V){var W=x.resolveUrl(V);X.gsclkpro=W.protocol;X.gsclkdm=W.host;X.gsclkpa=W.fullPath}X.gsclktl=aa;R.sender.send(X)}}}catch(Y){x.report(P,"FC_trackClickthrough",Y)}};R.trackSiteSearch=function(aa,W,X,ad,ac){try{R.init();if(R.disabled){return}var Z=O("ss"),Y=x.getRandomID();if(ad){Z.gsskwd=x.getUrlParam(t.href,aa);Z.gssenc=X||"utf-8";Z.gsscat=x.getUrlParam(t.href,W)}else{if(X){Z.gsskwd=aa;Z.gsscat=W;Z.gssenc=X}else{Z.gsskwd=e(aa);Z.gsscat=e(W);Z.gssenc="utf-8"}}if(!Z.gsskwd){return}Z.gsssid=R.lastSearchID=Y;ac=ac||H;if(ac){var V=x.resolveUrl(ac);Z.gssrefpa=V.fullPath;Z.gssrefdm=V.host}R.sender.send(Z)}catch(ab){x.report(P,"FC_trackSiteSearch",ab)}};R.bindSearchResults=function(V,W){return R.trackEvent(V,"click",function(Y){var X=Y.matched;R.trackClickthrough(x.getInnerText(X),X.href)},"a",W)};R.showHeatmap=function(){var W=Q.heatmapUrl;g.heatmapUrl=t.href;var V=n.createElement("script");V.src=W;n.getElementsByTagName("head")[0].appendChild(V)};R.addOrder=function(W,V){R.ecom.addOrder(W,Number(V))};R.addProduct=function(aa,W,Z,X,Y,V){R.ecom.addProduct(aa,W,Z,Number(X),Number(Y),V)};R.setSessionTimeout=function(V){if(V<1||V>3600){return}Q.sessionTimeout=V};R.setCampaign=function(V){if(V&&V.length!=0){Q.ad.campaign=V}};R.setGroup=function(V){if(V&&V.length!=0){Q.ad.group=V}};R.setContent=function(V){if(V&&V.length!=0){Q.ad.content=V}};R.setKeyword=function(V){if(V&&V.length!=0){Q.ad.keyword=V}};R.setMedium=function(V){if(V&&V.length!=0){Q.ad.medium=V}};R.setSource=function(V){if(V&&V.length!=0){Q.ad.source=V}};R.setCampaignKey=function(V){Q.ignoreParams.push(Q.campaignKey=c(V))};R.setMediumKey=function(V){Q.ignoreParams.push(Q.mediumKey=c(V))};R.setContentKey=function(V){Q.ignoreParams.push(Q.contentKey=c(V))};R.setSourceKey=function(V){Q.ignoreParams.push(Q.sourceKey=c(V))};R.setKeywordKey=function(V){Q.ignoreParams.push(Q.keywordKey=c(V))};R.setGroupKey=function(V){Q.ignoreParams.push(Q.groupKey=c(V))};R.setChannelKey=function(V){Q.ignoreParams.push(Q.channelKey=c(V))};R.setContentNetworkPrefix=function(V){Q.contentNetworkKey=V};R.setChannel=function(X,V,W){var Y;if(V){if(W){Y=x.getUrlParam(H,V)}else{Y=x.getUrlParam(t.href,V)}if(Y){X=Y}}if(X&&X.length!=0){Q.ad.channel=X}};R.setIgnoreTrafficKeyword=function(V){if(V){Q.ignoreUA=V}};R.setCustomProperty=function(W,V,Y,X){var Z=V;if(Y==="cookie"){Z=x.getCookie(X)||V}else{if(Y==="query"){Z=x.getUrlParam(t.href,X)||V}}if(Z!=null){Q.properties[W]=Z}};R.setHeatmapScriptUrl=function(V){Q.heatmapUrl=V};R.setPageName=function(V){Q.pageName=V};R.setServiceUrl=function(V){Q.serviceUrls=[V]};R.setServiceUrls=function(V){if(!y(V)){V=q.call(arguments)}Q.serviceUrls=V};R.setJunctionPoint=function(V){Q.junction=V};R.setCookieProperties=function(W,X,V){if(W&&W.charAt(0)==="."){W=W.substring(1)}Q.domain=W||Q.domain;Q.path=X||Q.path;Q.secure=!!V};R.setSamplingRate=function(V){Q.sample=V};R.setClickSamplingRate=function(V){Q.mcSample=V};R.setDocWidth=function(V){Q.docWidth=Number(V)};R.setOriginalUrl=function(V){Q.cleanUrl=V};R.setOriginElement=function(V){Q.origin=x.getEl(V)};R.setPageVersion=function(V){Q.pageVer=V};R.addOrganicSearch=function(Y,aa,W,ac,V,Z,ab,X){Q.searchEngines.push(u(Y,aa,c(W),c(ac),c(V),c(Z),c(ab),X))};R.getWDCookieString=function(){R.init();return R.user.serialize()};R.jump=function(W){var V=R.getWDCookieString(),X=m(W)?W:W.action;t.href=X+"#"+V};R.addIgnoreParams=function(){Q.ignoreParams=Q.ignoreParams.concat(q.call(arguments))};R.enableLazyClickTrace=function(V){Q.lazyBinding=!V};R.enableHeatmap=function(V){Q.heatmap=!V;if(R.heatmap){R.heatmap.bind()}};R.enableCrossDomain=function(V){Q.crossDomain=!V};R.enableAnchor=function(V){};R.keepAnchor=function(V){Q.keepAnchor=!V};R.enableRedirectServer=function(V){R.rsDomain=V||Q.domain}}var g={version:"1.1.0.21",hooks:[],plugins:[],trackers:{},register:function(M,O,N){g.plugins.push({name:M,template:O});g.addApis(N)},addApis:function(M){if(M){for(var N in M){if(f(M,N)){B.prototype[N]=M[N]}}}},addHook:function(N,O){var M=g.hooks;N=c(N);M[N]=M[N]||[];M[N].push(O)},execHook:function(N){var Q;if((Q=g.hooks[N])){for(var O=0,M=Q.length;O<M;O++){var P=Q[O];P.apply(P,q.call(arguments,1))}}},isTrackerExist:function(M){return!!g.trackers[M]},getTracker:function(M){return g.trackers[M]||(g.trackers[M]=new B(M))},loadCallback:function(N,M,O){N=N||"_gsCallback";return x.waitFor("window."+N,function(P){P()},M,O)}};K.GridsumWebDissector=g;K._gsUtility=x;x.resolveURL=x.resolveUrl})();var _gsTracker=GridsumWebDissector.getTracker('GWD-000389');_gsTracker.setCookieProperties(".qq.com");if(_gsUtility.isPageMatch(["/","/index.htm"],'exactmatch',location.pathname)){if(location.hostname=="b.qq.com"){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20110602");_gsTracker.setOriginalUrl("http://b.qq.com/");}}else if(_gsUtility.isPageMatch(["/qgirl/index"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver2012019");_gsTracker.setOriginalUrl("http://114.qq.com/qgirl/index");}else if(_gsUtility.isPageMatch(["/eim/apply.html"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20130609");_gsTracker.setOriginalUrl("http://b.qq.com/eim/apply.html");}else if(_gsUtility.isPageMatch(["/eim/download.html"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20130722");_gsTracker.setOriginalUrl("http://b.qq.com/eim/download.html");}else if(_gsUtility.isPageMatch(["/activity/goldphotos/"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20110915");_gsTracker.setOriginalUrl("http://b.qq.com/activity/goldphotos/");}else if(_gsUtility.isPageMatch(["/huodong/jyh/songli"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20120207");_gsTracker.setOriginalUrl("http://114.qq.com/huodong/jyh/songli");}else if(_gsUtility.isPageMatch(["/home/"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20111024");_gsTracker.setOriginalUrl("http://b.qq.com/home/");}else if(_gsUtility.isPageMatch(["/activity/20120307/"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20120312");_gsTracker.setOriginalUrl("http://b.qq.com/activity/20120307/");}else if(_gsUtility.isPageMatch(["/eim/home.html"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20120516");_gsTracker.setOriginalUrl("http://b.qq.com/eim/home.html");}else if(_gsUtility.isPageMatch(["/crm/home.html"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20120516");_gsTracker.setOriginalUrl("http://b.qq.com/crm/home.html");}else if(_gsUtility.isPageMatch(["/activity/home.html"],'exactmatch',location.pathname)){_gsTracker.enableHeatmap();_gsTracker.setDocWidth(1004);_gsTracker.setPageVersion("ver20120516");_gsTracker.setOriginalUrl("http://b.qq.com/activity/home.html");}else{}
_gsTracker.track();