(function(g){var f=g.Jx,q={},u={},r={NO_DEBUG:0,SHOW_ALL:1},s={debug:1},t=function(i,h,o){i=String(i);if(s.debug)if(this.console)this.console.out?this.console.out(i,h,o):alert(i+" - \u6d88\u606f\u7c7b\u578b["+o+"]");return i};try{if(typeof f==="undefined"||f.mark&&f.mark==="JxMark"){if(f){q=f.VERSIONS;u=f.PACKAGES}f=function(i,h){var o=this;if(h)if(o&&o.hasOwnProperty&&o instanceof f)o._init();else o=new f(i);else if(i){i=String(i);try{if(f.VERSIONS[i])o=f.VERSIONS[i];else{o=f.VERSIONS[f.DEFAULT_VERSION];
throw Error("\u6ca1\u6709\u627e\u5230 JET version "+i+", \u6240\u4ee5\u8fd4\u56de\u9ed8\u8ba4\u7248\u672c JET version "+f.DEFAULT_VERSION+"!");}}catch(n){o.out("A.\u9519\u8bef\uff1a["+n.name+"] "+n.message+", "+n.fileName+", \u884c\u53f7:"+n.lineNumber+"; stack:"+typeof n.stack,2)}}else o=f.VERSIONS[f.DEFAULT_VERSION];return o};f.prototype={version:"1.0.2",DEBUG:r,option:s,_init:function(){this.constructor=f},$namespace:function(i){if(!i)return g;i=String(i);var h,o=i.split("."),n=g;for(i=0;i<o.length;i+=
1){h=o[i];n[h]=n[h]||{};n=n[o[i]]}return n},$package:function(){var i=arguments[0],h=arguments[arguments.length-1],o=g,n;if(typeof h==="function"){if(typeof i==="string"){o=this.$namespace(i);f.PACKAGES[i]||(f.PACKAGES[i]={isLoaded:true,returnValue:n});o.packageName=i}else if(typeof i==="object")o=i;n=h.call(o,this);typeof i==="string"&&(f.PACKAGES[i].returnValue=n)}else throw Error("Function required");},checkPackage:function(i){return f.PACKAGES[i]},out:t,debug:function(){},profile:function(){},
warn:function(){},error:function(){},startTime:+new Date,about:function(){return this.out("JET (Javascript Extend Tools)\nversion: "+this.version+"\n\nCopyright (c) 2009, All rights reserved.")},toString:function(){return"JET version "+this.version+" !"}};f.VERSIONS=q;f.PACKAGES=u;f.VERSIONS["1.0.2"]=new f("1.0.2",true);f.DEFAULT_VERSION="1.0.2";f.mark="JxMark";g.Jet=g.Jx=f}else throw Error('"Jx" name is defined in other javascript code !!!');}catch(l){t("JET \u5fae\u5185\u6838\u521d\u59cb\u5316\u5931\u8d25! B.\u9519\u8bef\uff1a["+
l.name+"] "+l.message+", "+l.fileName+", \u884c\u53f7:"+l.lineNumber+"; stack:"+typeof l.stack,1)}})(this);
Jx().$package(function(g){var f,q,u,r,s,t,l,i,h,o,n;f=function(a){return typeof a==="undefined"};q=function(a){return a===null};u=function(a){return(a===0||a)&&a.constructor===Number};s=function(a){return(a===false||a)&&a.constructor===Boolean};r=function(a){return(a===""||a)&&a.constructor===String};t=function(a){return a&&a.constructor===Object||String(a)==="[object Object]"};l=function(a){return a&&a.constructor===Array||Object.prototype.toString.call(a)==="[object Array]"};i=function(a){return a&&
a.callee&&u(a.length)?true:false};h=function(a){return a&&a.constructor===Function};o=function(a){var b=arguments,d,c;if(b.length===1){a=this;b=0}else{a=b[0]||{};b=1}for(;b<arguments.length;b++){c=arguments[b];for(d in c){var k=a[d],m=c[d];if(k!==m)if(m&&t(m)&&!l(m)&&!m.nodeType&&!h(m)){k=a[d]||{};a[d]=o(k,m||(m.length!=null?[]:{}))}else if(m!==undefined)a[d]=m}}return a};n=function(){var a=arguments.length,b=arguments[a-1];b.init=b.init||function(){};if(a===2){a=arguments[0].extend;var d=function(){};
d.prototype=a.prototype;var c=function(){this.init.apply(this,arguments)};c.superClass=a.prototype;c.callSuper=function(k,m){var w=Array.prototype.slice,z=w.call(arguments,2);(m=c.superClass[m])&&m.apply(k,z.concat(w.call(arguments)))};c.prototype=new d;c.prototype.constructor=c;g.extend(c.prototype,b);c.prototype.init=function(){b.init.apply(this,arguments)};return c}else if(a===1){a=function(){return this.init.apply(this,arguments)};a.prototype=b;return a}};var e=new n({init:function(a,b,d,c,k){var m=
a.concat();if(c)m=a;this.timeout=window.setTimeout(function(){var w=+new Date;do b.call(d,m.shift());while(m.length>0&&+new Date-w<50);if(m.length>0)this.timeout=window.setTimeout(arguments.callee,25);else k&&k(a)},25)},stop:function(){clearTimeout(this.timeout)}});g.isUndefined=f;g.isNull=q;g.isNumber=u;g.isString=r;g.isBoolean=s;g.isObject=t;g.isArray=l;g.isArguments=i;g.isFunction=h;g.$typeof=function(a){return f(a)?"undefined":q(a)?"null":u(a)?"number":s(a)?"boolean":r(a)?"string":t(a)?"object":
l(a)?"array":i(a)?"arguments":h(a)?"function":"other"};g.$return=function(a){return g.isFunction(a)?a:function(){return a}};g.$try=function(){var a,b=arguments.length,d;for(a=0;a<b;a++)try{d=arguments[a]();break}catch(c){g.out("C.\u9519\u8bef\uff1a["+c.name+"] "+c.message+", "+c.fileName+", \u884c\u53f7:"+c.lineNumber+"; stack:"+typeof c.stack,2)}return d};g.emptyFunc=function(){};g.clone=function(a){var b=function(){};b.prototype=a;return new b};g.getLength=function(a){var b,d=0;for(b in a)a.hasOwnProperty(b)&&
d++;return d};g.checkJSON=function(){return true};g.random=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)};g.extend=o;g.now=function(){return+new Date};g.timedChunk=function(a,b,d,c,k){var m=a.concat();if(c)m=a;window.setTimeout(function(){var w=+new Date;do b.call(d,m.shift());while(m.length>0&&+new Date-w<50);if(m.length>0)window.setTimeout(arguments.callee,25);else k&&k(a)},25)};g.rebuild=function(a,b){b=b||{};a.$$rebuildedFunc=a.$$rebuildedFunc||function(){var d,c;d=b.contextObj||this;
c=Array.prototype.slice.call(arguments,0);if(c!==undefined)c=c.concat(b.arguments);if(b.event===false)c=c.slice(1);return a.apply(d,c)};return a.$$rebuildedFunc};g.pass=function(a){var b=Array.prototype.slice,d=b.call(arguments,1);return function(){return a.apply(this,d.concat(b.call(arguments)))}};g.bind=function(a,b){var d=Array.prototype.slice,c=d.call(arguments,2);return function(){return a.apply(b,c.concat(d.call(arguments)))}};g.bindNoEvent=void 0;g.Class=n;g.Chunk=e});
Jx().$package(function(g){g.array=g.array||{};var f=g.array,q,u,r,s,t,l,i,h,o,n,e,a;q=Array.prototype.indexOf?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.indexOf.apply(arguments[0],b)}:function(b,d,c){if(c==null)c=0;else if(c<0)c=Math.max(0,b.length+c);for(c=c;c<b.length;c++)if(b[c]===d)return c;return-1};u=Array.prototype.lastIndexOf?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.lastIndexOf.apply(arguments[0],b)}:function(b,d,
c){if(c==null)c=b.length-1;else if(c<0)c=Math.max(0,b.length+c);for(c=c;c>=0;c--)if(b[c]===d)return c;return-1};r=Array.prototype.forEach?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.forEach.apply(arguments[0],b)}:function(b,d,c){var k=b.length;if(typeof d!="function")throw new TypeError;for(var m=0;m<k;m++)m in b&&d.call(c,b[m],m,b)};s=Array.prototype.filter?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.filter.apply(arguments[0],
b)}:function(b,d,c){var k=b.length;if(typeof d!="function")throw new TypeError;for(var m=[],w=0;w<k;w++)if(w in b){var z=b[w];d.call(c,z,w,b)&&m.push(z)}return m};t=Array.prototype.some?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.some.apply(arguments[0],b)}:function(b,d,c){var k=b.length;if(typeof d!="function")throw new TypeError;for(var m=0;m<k;m++)if(m in b&&d.call(c,b[m],m,b))return true;return false};l=Array.prototype.map?function(){var b=Array.prototype.slice.call(arguments,
1);return Array.prototype.map.apply(arguments[0],b)}:function(b,d,c){var k=b.length;if(typeof d!="function")throw new TypeError;for(var m=Array(k),w=0;w<k;w++)if(w in b)m[w]=d.call(c,b[w],w,b);return m};i=Array.prototype.every?function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.every.apply(arguments[0],b)}:function(b,d,c){var k=b.length;if(typeof d!="function")throw new TypeError;for(var m=0;m<k;m++)if(m in b&&!d.call(c,b[m],m,b))return false;return true};h=Array.prototype.reduce?
function(){var b=Array.prototype.slice.call(arguments,1);return Array.prototype.reduce.apply(arguments[0],b)}:function(b,d){var c=b.length>>>0;if(typeof d!="function")throw new TypeError;if(c==0&&arguments.length==2)throw new TypeError;var k=0;if(arguments.length>=3)var m=arguments[2];else{do{if(k in b){m=b[k++];break}if(++k>=c)throw new TypeError;}while(1)}for(;k<c;k++)if(k in b)m=d.call(null,m,b[k],k,b);return m};o=Array.prototype.reduceRight?function(){var b=Array.prototype.slice.call(arguments,
1);return Array.prototype.reduceRight.apply(arguments[0],b)}:function(b,d){var c=b.length>>>0;if(typeof d!="function")throw new TypeError;if(c==0&&arguments.length==2)throw new TypeError;c=c-1;if(arguments.length>=3)var k=arguments[2];else{do{if(c in b){k=b[c--];break}if(--c<0)throw new TypeError;}while(1)}for(;c>=0;c--)if(c in b)k=d.call(null,k,b[c],c,b);return k};n=function(b){var d=g.$typeof(b);return d?d!="array"&&d!="arguments"?[b]:b:[]};e=function(b,d){return q(b,d)>-1};a=function(b){for(var d=
[],c=0,k=b.length;c<k;c++)e(d,b[c])||d.push(b[c]);return d};f.indexOf=q;f.lastIndexOf=u;f.forEach=r;f.filter=s;f.some=t;f.map=l;f.every=i;f.reduce=h;f.reduceRight=o;f.toArray=n;f.remove=function(b,d){d=n(d);var c,k,m=false;for(c=0;c<d.length;c++)for(k=0;k<b.length;k++)if(b[k]===d[c]){b.splice(k,1);m=true}return m};f.replace=function(b,d,c){for(;0<b.length;ij++)if(b[0]===d){b[0]=c;return true}return false};f.bubbleSort=function(b,d){d=d||function(A,y){return A-y};for(var c=b.length,k,m,w=0;w<c-1;w++){m=
false;for(var z=c-1;z>w;z--)if(d(b[z],b[z-1])<0){m=true;k=b[z-1];b[z-1]=b[z];b[z]=k}if(!m)break}return b};f.binarySearch=function(b,d,c){for(var k=0,m=b.length,w=Math.floor(b.length/2);m!=w;){if(c(d,b[w])>0)k=w+1;else m=w;w=Math.floor((k+m)/2)}return w};f.contains=e;f.uniquelize=a;f.intersect=function(b,d){for(var c=[],k=0,m=b.length;k<m;k++)e(d,b[k])&&c.push(b[k]);return c};f.minus=function(b,d){for(var c=[],k=0,m=b.length;k<m;k++)e(d,b[k])||c.push(b[k]);return c};f.union=function(b,d){return a(b.concat(d))}});
Jx().$package(function(g){g.browserOptions={adjustBehaviors:true,htmlClass:true};g.host=window.location.host;var f=navigator.platform.toLowerCase(),q=navigator.userAgent.toLowerCase(),u=navigator.plugins,r,s,t,l,i;l=function(n,e){n=(""+n).replace(/_/g,".");e=e||1;n=String(n).split(".");n=n[0]+"."+(n[1]||"0");return n=Number(n).toFixed(e)};r={getPlatform:function(){return f},name:window.orientation!=undefined?"iPod":(f.match(/mac|win|linux/i)||["unknown"])[0],version:0,iPod:0,iPad:0,iPhone:0,android:0,
win:0,linux:0,mac:0,set:function(n,e){this.name=n;this.version=e;this[n]=e}};r[r.name]=true;(i=q.match(/windows ([\d.]+)/))?r.set("win",l(i[1])):(i=q.match(/windows nt ([\d.]+)/))?r.set("win",l(i[1])):(i=q.match(/linux ([\d.]+)/))?r.set("linux",l(i[1])):(i=q.match(/mac ([\d.]+)/))?r.set("mac",l(i[1])):(i=q.match(/ipod ([\d.]+)/))?r.set("iPod",l(i[1])):(i=q.match(/ipad[\D]*os ([\d_]+)/))?r.set("iPad",l(i[1])):(i=q.match(/iphone ([\d.]+)/))?r.set("iPhone",l(i[1])):(i=q.match(/android ([\d.]+)/))&&r.set("android",
l(i[1]));s={features:{xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector},getPlugins:function(){return u},plugins:{flash:function(){var n=0;if(u&&u.length){var e=u["Shockwave Flash"];if(e&&e.description)n=l(e.description.match(/\b(\d+)\.\d+\b/)[1],1)||n}else for(e=13;e--;)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e);n=l(e);break}catch(a){}return n}()},getUserAgent:function(){return q},name:"unknown",version:0,ie:0,firefox:0,chrome:0,opera:0,safari:0,mobileSafari:0,
adobeAir:0,set:function(n,e){this.name=n;this.version=e;this[n]=e}};(i=q.match(/msie ([\d.]+)/))?s.set("ie",l(i[1])):(i=q.match(/firefox\/([\d.]+)/))?s.set("firefox",l(i[1])):(i=q.match(/chrome\/([\d.]+)/))?s.set("chrome",l(i[1])):(i=q.match(/opera.([\d.]+)/))?s.set("opera",l(i[1])):(i=q.match(/adobeair\/([\d.]+)/))?s.set("adobeAir",l(i[1])):(i=q.match(/version\/([\d.]+).*safari/))&&s.set("safari",l(i[1]));(i=q.match(/version\/([\d.]+).*mobile.*safari/))&&s.set("mobileSafari",l(i[1]));r.iPad&&s.set("mobileSafari",
"0.0");if(s.ie)if(document.documentMode)document.documentMode!==Math.floor(s.ie)&&s.set("ie",l(document.documentMode));else document.documentMode=Math.floor(s.ie);t={name:"unknown",version:0,trident:0,gecko:0,webkit:0,presto:0,set:function(n,e){this.name=n;this.version=e;this[n]=e}};(i=q.match(/trident\/([\d.]+)/))?t.set("trident",l(i[1])):(i=q.match(/gecko\/([\d.]+)/))?t.set("gecko",l(i[1])):(i=q.match(/applewebkit\/([\d.]+)/))?t.set("webkit",l(i[1])):(i=q.match(/presto\/([\d.]+)/))&&t.set("presto",
l(i[1]));if(s.ie)if(s.ie==6)t.set("trident",l("4"));else if(s.ie==7||s.ie==8)t.set("trident",l("5"));if(g.browserOptions.adjustBehaviors)if(s.ie&&s.ie<7)try{document.execCommand("BackgroundImageCache",false,true)}catch(h){}var o=function(n){return String(n).replace(/\./gi,"_")};i=function(){var n=document.documentElement,e=[n.className];e.push("javascriptEnabled");e.push(r.name);e.push(r.name+o(r.version));e.push(s.name);e.push(s.name+o(s.version));document.documentMode&&e.push("documentMode_"+document.documentMode);
e.push(t.name);e.push(t.name+o(t.version));if(s.plugins.flash){e.push("flash");e.push("flash"+o(s.plugins.flash))}typeof window.webTop!="undefined"&&window.webTop&&e.push("webTop");n.className=e.join(" ")};g.browserOptions.htmlClass&&i();g.platform=r;g.browser=s;g.browser.engine=t});
Jx().$package(function(g){var f,q,u,r,s,t,l,i,h,o,n,e,a,b,d,c,k=null,m,w,z,A;g.dom=g.dom||{};f=g.dom;q=g.browser;u=f.win?f.win.contentWindow:f.win||window;f.win=u;f.doc=u.document;var y=document&&Object.prototype.hasOwnProperty.call(document.documentElement,"classList");w=function(){if(z)return z;return z=document.compatMode==="CSS1Compat"?document.documentElement:document.body};c=function(j){if(j){j=j||window.document;k=j.nodeType===9?j:j.ownerDocument||f.doc}else if(!k){j=j||window.document;k=j.nodeType===
9?j:j.ownerDocument||f.doc}return k};m=function(j){var p=c(j);return j.document?j:p.defaultView||p.parentWindow||f.win};u=function(j,p){p=p||c();return p.getElementsByTagName(j)};n=function(j){return(j?j.scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))||0};e=function(j){return(j?j.scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop))||0};r=function(){return y?function(j,p){if(!j||!p)return false;return j.classList.contains(p)}:function(j,
p){if(!j||!p)return false;return-1<(" "+j.className+" ").indexOf(" "+p+" ")}}();s=function(){return y?function(j,p){!j||!p||r(j,p)||j.classList.add(p)}:function(j,p){!j||!p||r(j,p)||(j.className+=" "+p)}}();t=function(){return y?function(j,p){!j||!p||!r(j,p)||j.classList.remove(p)}:function(j,p){if(!(!j||!p||!r(j,p)))j.className=j.className.replace(RegExp("(?:^|\\s)"+p+"(?:\\s|$)")," ")}}();l=function(){return y?function(j,p){j&&p&&j.classList.toggle(p)}:function(j,p){if(j&&p)r(j,p)?t(j,p):s(j,p)}}();
i=function(j,p,v){if(j){var x=g.browser.name;if(p==="float"||p==="cssFloat")p=x==="ie"?"styleFloat":"cssFloat";if(p==="opacity"&&x==="ie"&&g.browser.ie<9){j.style.filter='alpha(opacity="'+v*100+'")';if(!j.style.zoom)j.style.zoom=1}else j.style[p]=v}};h=function(j,p){if(j){var v=m(j),x=g.browser.name;if(p==="float"||p==="cssFloat")p=x==="ie"?"styleFloat":"cssFloat";if(p==="opacity"&&x==="ie"&&g.browser.ie<9){v=1;if((x=j.style.filter.match(/opacity=(\d+)/))&&x[1])v=x[1]/100;return v}if(j.style[p])return j.style[p];
else if(j.currentStyle)return j.currentStyle[p];else if(v.getComputedStyle)return v.getComputedStyle(j,null)[p];else if(document.defaultView&&document.defaultView.getComputedStyle){p=p.replace(/([/A-Z])/g,"-$1");p=p.toLowerCase();return(v=document.defaultView.getComputedStyle(j,""))&&v.getPropertyValue(p)}}};o=function(j,p){j.style.cssText=p};a=function(j){var p=0,v=0;if(j)if(document.documentElement.getBoundingClientRect&&j.getBoundingClientRect){v={left:0,top:0,right:0,bottom:0};try{v=j.getBoundingClientRect()}catch(x){return[0,
0]}j=j.ownerDocument;var C=g.browser.ie?2:0;p=v.top-C+e(j);v=v.left-C+n(j)}else for(;j.offsetParent;){p+=j.offsetTop;v+=j.offsetLeft;j=j.offsetParent}return[v,p]};b=function(j){j=a(j);j[0]+=n();j[1]+=e();return j};d=function(j,p,v){var x=parseInt(h(j,"marginLeft"))||0,C=parseInt(h(j,"marginTop"))||0;i(j,"left",parseInt(p)-x+"px");i(j,"top",parseInt(v)-C+"px")};for(var E=function(j){return!j||j=="auto"?0:parseInt(j.substr(0,j.length-2))},D=u("script"),B=0;B<D.length;B++)if(D[B].getAttribute("hasJx")==
"true")g.src=D[B].src;if(!g.src)g.src=D[D.length-1].src;g.filename=g.src.replace(/(.*\/){0,}([^\\]+).*/ig,"$2");g.path=g.src.split(g.filename)[0];f.getDoc=c;f.id=function(j,p){return c(p).getElementById(j)};f.name=function(j,p){return c(p).getElementsByName(j)};f.tagName=u;f.getText=function(j){var p=j?j[TEXT_CONTENT]:"";if(p===UNDEFINED&&INNER_TEXT in j)p=j[INNER_TEXT];return p||""};f.getAttributeByParent=function(j,p,v){var x=false;p=p;var C;do{C=p.getAttribute(j);if(g.isUndefined(C)||g.isNull(C))if(p===
v)x=true;else p=p.parentNode;else x=true}while(!x);return C};f.node=function(j,p){var v,x=document.createElement(j),C={"class":function(){x.className=p["class"]},style:function(){o(x,p.style)}};for(v in p)C[v]?C[v]():x.setAttribute(v,p[v]);return x};f.setClass=function(j,p){j.className=p};f.getClass=function(j){return j.className};f.hasClass=r;f.addClass=s;f.removeClass=t;f.toggleClass=l;f.replaceClass=function(j,p,v){t(j,p);s(j,v)};f.createStyleNode=function(j,p){var v=f.node("style",{id:p||"",type:"text/css"});
f.getDocHead().appendChild(v);var x=typeof j;if(x=="string")if(v.styleSheet)v.styleSheet.cssText=j;else{x=document.createTextNode(j);v.appendChild(x)}else if(x=="object"){x=0;var C=document.styleSheets[document.styleSheets.length-1];for(selector in j)C.insertRule?C.insertRule(selector+"{"+j[selector]+"}",x++):C.addRule(selector,j[selector],x++)}return v};f.setStyle=i;f.getStyle=h;f.setCssText=o;f.getCssText=function(j){return j.style.cssText};f.addCssText=function(j,p){j.style.cssText+=";"+p};f.show=
function(j,p){var v;v=(v=j.getAttribute("_oldDisplay"))?v:h(j,"display");if(p)i(j,"display",p);else v==="none"?i(j,"display","block"):i(j,"display",v)};f.isShow=function(j){return h(j,"display")==="none"?false:true};f.recover=function(j){var p;p=(p=j.getAttribute("_oldDisplay"))?p:h(j,"display");p==="none"?i(j,"display",""):i(j,"display",p)};f.hide=function(j){var p=h(j,"display");j.getAttribute("_oldDisplay")||(p==="none"?j.setAttribute("_oldDisplay",""):j.setAttribute("_oldDisplay",p));i(j,"display",
"none")};f.getScrollLeft=n;f.getScrollTop=e;f.getScrollHeight=function(j){return(j?j.scrollHeight:Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))||0};f.getScrollWidth=function(j){return(j?j.scrollWidth:Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))||0};f.getClientHeight=function(j){j=j||w();return j.clientHeight};f.getClientWidth=function(j){j=j||w();return j.clientWidth};f.getOffsetHeight=function(j){j=j||w();return j.offsetHeight};f.getOffsetWidth=
function(j){j=j||w();return j.offsetWidth};f.getClientXY=a;f.setClientXY=function(j,p,v){p=parseInt(p)+n();v=parseInt(v)+e();d(j,p,v)};f.getXY=b;f.setXY=d;f.getRelativeXY=function(j,p){var v=b(j),x=b(p),C=[];C[0]=v[0]-x[0];C[1]=v[1]-x[1];return C};f.getPosX=function(j){return E(f.getStyle(j,"left"))};f.getPosY=function(j){return E(f.getStyle(j,"top"))};f.getWidth=function(j){return E(f.getStyle(j,"width"))};f.getHeight=function(j){return E(f.getStyle(j,"height"))};f.getSelection=void 0;f.getSelectionText=
function(j){j=j||window;var p=j.document;if(j.getSelection)return j.getSelection().toString();else if(p.getSelection)return p.getSelection();else if(p.selection)return p.selection.createRange().text};f.getTextFieldSelection=function(j){return j.selectionStart!=undefined&&j.selectionEnd!=undefined?j.value.substring(j.selectionStart,j.selectionEnd):""};f.getDocumentElement=w;f.getDocHead=function(){if(!A){var j=c();A=j.getElementsByTagName("head")?j.getElementsByTagName("head")[0]:j.documentElement}return A};
f.contains=function(j,p,v){if(!v&&j===p)return false;if(j.compareDocumentPosition){j=j.compareDocumentPosition(p);if(j==20||j==0)return true}else if(j.contains(p))return true;return false};f.getHref=function(j){return(q.ie&&q.ie<=7?j.getAttribute("href",4):j.href)||null}});
Jx().$package(function(g){var f,q,u,r,s,t,l=[],i,h,o,n,e;g.event=g.event||{};f=g.event;e=function(a,b){if(!a)a=window.event;b=b||a.srcElement;var d=document,c=d.documentElement;d=d.body;c={_event:a,type:a.type,target:a.srcElement,currentTarget:b,relatedTarget:a.fromElement?a.fromElement:a.toElement,eventPhase:a.srcElement==b?2:3,clientX:a.clientX,clientY:a.clientY,screenX:a.screenX,screenY:a.screenY,layerX:a.offsetX,layerY:a.offsetY,pageX:a.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||
d&&d.clientLeft||0),pageY:a.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0),wheelDelta:a.wheelDelta,altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,charCode:a.keyCode,keyCode:a.keyCode,stopPropagation:function(){this._event.cancelBubble=true},preventDefault:function(){this._event.returnValue=false}};d=a.type.toLowerCase();if(d=="mouseover")c.relatedTarget=a.fromElement;else if(d=="mouseout")c.relatedTarget=a.toElement;if(!g.isUndefined(a.button)){d=a.button;var k=
{0:-1,1:0,2:2,3:-1,4:1};c.button=g.isUndefined(k[d])?d:k[d]}return c};if(g.browser.ie){q=function(a,b,d,c){t["on"+b]?t["on"+b](a,b,d,c):u(a,b,d)};u=function(a,b,d){if(f._find(arguments)==-1){var c=function(w){w=e(w,a);if(Function.prototype.call)d.call(a,w);else{a._currentHandler=d;a._currentHandler(w);a._currentHandler=null}};a.attachEvent("on"+b,c);c={element:a,eventType:b,handler:d,wrappedEvent:c};var k=(a.document||a).parentWindow||window,m=f._uid();if(!k._allHandlers)k._allHandlers={};k._allHandlers[m]=
c;if(!a._handlers)a._handlers=[];a._handlers.push(m);if(!k._onunloadEventRegistered){k._onunloadEventRegistered=true;k.attachEvent("onunload",f._removeAllEvents)}}};r=function(a,b,d){if(t["off"+b])t["off"+b](a,b,d);else arguments.length==3?s(a,b,d):s(a,b)};s=function(a){var b=f._find(arguments);if(b!=-1){for(var d=(a.document||a).parentWindow||window,c=0;c<b.length;c++){var k=b[c],m=a._handlers[k],w=d._allHandlers[m];a.detachEvent("on"+w.eventType,w.wrappedEvent);a._handlers[k]=null;a._handlers.splice(k,
1);delete d._allHandlers[m]}if(a._handlers&&a._handlers.length==0)a._handlers=null}};f._find=function(a){var b=a[0],d=a[1],c=a[2],k=b._handlers;if(!k)return-1;b=(b.document||b).parentWindow||window;var m=[];if(a.length===3)for(a=k.length-1;a>=0;a--){var w=k[a];w=b._allHandlers[w];if(w.eventType==d&&w.handler==c){m.push(a);return m}}else if(a.length===2){for(a=k.length-1;a>=0;a--){w=k[a];w=b._allHandlers[w];w.eventType==d&&m.push(a)}if(m.length>0)return m}else if(a.length===1){for(a=k.length-1;a>=
0;a--)m.push(a);if(m.length>0)return m}return-1};f._removeAllEvents=function(){for(var a in this._allHandlers){var b=this._allHandlers[a];b.element.detachEvent("on"+b.eventType,b.wrappedEvent);b.element._handlers=null;delete this._allHandlers[a]}};f._counter=0;f._uid=function(){return"h"+f._counter++}}else if(document.addEventListener){q=function(a,b,d,c){t["on"+b]?t["on"+b](a,b,d,c):u(a,b,d)};u=function(a,b,d){var c=false;a||g.out("targetModel undefined:"+b+d);if(!a._eventTypes)a._eventTypes={};
a._eventTypes[b]||(a._eventTypes[b]=[]);a.addEventListener(b,d,false);a=a._eventTypes[b];for(b=0;b<a.length;b++)if(a[b]==d){c=true;break}c||a.push(d)};r=function(a,b,d){if(t["off"+b])t["off"+b](a,b,d);else arguments.length==3?s(a,b,d):s(a,b)};s=function(a,b,d){if(b)if(arguments.length==3){if(d){a.removeEventListener(b,d,false);if(a._eventTypes&&a._eventTypes[b])for(var c=a._eventTypes[b],k=0;k<c.length;k++)if(c[k]===d){c[k]=null;c.splice(k,1);break}}}else{if(a._eventTypes&&a._eventTypes[b]){c=a._eventTypes[b];
for(k=0;k<c.length;k++)a.removeEventListener(b,c[k],false);a._eventTypes[b]=[]}}else if(a._eventTypes){var m=a._eventTypes,w;for(w in m){c=a._eventTypes[w];for(k=0;k<c.length;k++)a.removeEventListener(w,c[k],false)}}}}t={ondrag:function(a,b,d){var c,k,m=false,w=function(y){if(!(!g.browser.mobileSafari&&y.button!==0)){if(g.browser.mobileSafari){y.stopPropagation();y=y.touches[0];c=y.pageX;k=y.pageY}else{y.stopPropagation();y.preventDefault();c=y.clientX;k=y.clientY}m=false;if(g.browser.mobileSafari){f.addEventListener(document,
"touchmove",z);f.addEventListener(a,"touchend",A)}else f.addEventListener(document,"mousemove",z)}},z=function(y){if(!(!g.browser.mobileSafari&&y.button!==0)){var E,D;y.stopPropagation();if(g.browser.mobileSafari){D=y.changedTouches[0];E=D.pageX;D=D.pageY}else{E=y.clientX;D=y.clientY}if(Math.abs(c-E)+Math.abs(k-D)>2){if(g.browser.mobileSafari){f.removeEventListener(document,"touchmove",z);f.removeEventListener(a,"touchend",A)}else f.removeEventListener(document,"mousemove",z);if(!m){d.call(a,y);m=
true}}}},A=function(y){if(!(!g.browser.mobileSafari&&y.button!==0))if(g.browser.mobileSafari){f.removeEventListener(document,"touchmove",z);if(m){y.stopPropagation();y.preventDefault()}}else f.removeEventListener(document,"mousemove",z)};if(g.browser.mobileSafari)f.addEventListener(a,"touchstart",w);else{f.addEventListener(a,"mousedown",w);f.addEventListener(a,"mouseup",A)}l.push({element:a,eventType:b,handler:d,actions:[w,A]})},offdrag:function(a,b,d){for(var c in l)if(l[c].handler==d&&l[c].element==
a&&l[c].eventType==b){if(g.browser.mobileSafari){f.removeEventListener(a,"touchstart",l[c].actions[0]);f.removeEventListener(a,"touchend",l[c].actions[1])}else{f.removeEventListener(a,"mousedown",l[c].actions[0]);f.removeEventListener(a,"mouseup",l[c].actions[1])}l.splice(c,1);break}},oncustomclick:function(a,b,d,c){var k,m,w=false,z=false,A;c=c?c:{};var y=c.longtouchable,E=-1;c=function(p){w=false;if(!(!g.browser.mobileSafari&&p.button!==0)){var v;if(g.browser.mobileSafari){v=p.changedTouches[0];
k=v.pageX;m=v.pageY}else{k=p.clientX;m=p.clientY}z=false;if(y)A=setTimeout(function(){if(!(w||z)){if(g.browser.mobileSafari){f.removeEventListener(a,"touchmove",B);f.removeOriginalEventListener(a,"touchend",j)}else{f.removeEventListener(a,"mousemove",B);f.removeOriginalEventListener(a,"click",j)}d.call(a,p,2E3)}},1E3);if(g.browser.mobileSafari){f.addEventListener(a,"touchmove",B);f.addOriginalEventListener(a,"touchend",j)}else{f.addEventListener(a,"mousemove",B);f.addOriginalEventListener(a,"click",
j)}}};var D=function(p){E=p.button;if(!(!g.browser.mobileSafari&&p.button!==0))if(g.browser.mobileSafari)touch=p.changedTouches[0]},B=function(p){if(g.browser.mobileSafari){touch=p.changedTouches[0];var v=touch.pageX;p=touch.pageY}else{v=p.clientX;p=p.clientY}if(w=Math.abs(k-v)+Math.abs(m-p)>1){clearTimeout(A);A=null;if(g.browser.mobileSafari){f.removeEventListener(a,"touchmove",B);f.removeOriginalEventListener(a,"touchend",j)}else{f.removeEventListener(a,"mousemove",B);f.removeOriginalEventListener(a,
"click",j)}}},j=function(p){clearTimeout(A);A=null;z=true;if(!(!g.browser.mobileSafari&&E!==0)){var v;if(g.browser.mobileSafari){v=p.changedTouches[0];var x=v.pageX;v=v.pageY}else{x=p.clientX;v=p.clientY}if(Math.abs(k-x)+Math.abs(m-v)<1){w=false;d.call(a,p,0)}}};if(g.browser.mobileSafari)f.addEventListener(a,"touchstart",c);else{f.addEventListener(a,"mousedown",c);f.addEventListener(a,"mouseup",D)}l.push({element:a,eventType:b,handler:d,actions:[c,B,D,j]})},offcustomclick:function(a,b,d){for(var c in l)if(l[c].handler==
d&&l[c].element==a&&l[c].eventType==b){if(g.browser.mobileSafari){f.removeEventListener(a,"touchstart",l[c].actions[0]);f.removeEventListener(a,"touchmove",l[c].actions[1]);f.removeOriginalEventListener(a,"touchend",l[c].actions[3])}else{f.removeEventListener(a,"mousedown",l[c].actions[0]);f.removeEventListener(a,"mousemove",l[c].actions[1]);f.removeEventListener(a,"mouseup",l[c].actions[2]);f.removeOriginalEventListener(a,"click",l[c].actions[3])}l.splice(c,1);break}},oncontextmenu:function(a,b,
d){if(g.browser.ie==9){var c=function(k){k=e(k,a);d.call(a,k)};a.attachEvent("oncontextmenu",c);l.push({element:a,eventType:b,handler:d,actions:[c]})}else f.addOriginalEventListener(a,b,d)},offcontextmenu:function(a,b,d){if(g.browser.ie==9)for(var c in l){if(l[c].handler==d&&l[c].element==a&&l[c].eventType==b){a.detachEvent("oncontextmenu",l[c].actions[0]);l.splice(c,1);break}}else f.removeOriginalEventListener(a,b,d)},onmousewheel:function(a,b,d){if(g.browser.firefox){var c=function(k){k.wheelDelta=
-40*k.detail;d.call(a,k)};f.addOriginalEventListener(a,"DOMMouseScroll",c);l.push({element:a,eventType:b,handler:d,actions:[c]})}else f.addOriginalEventListener(a,"mousewheel",d)},offmousewheel:function(a,b,d){if(g.browser.firefox)for(var c in l){if(l[c].handler==d&&l[c].element==a&&l[c].eventType==b){f.removeOriginalEventListener(a,"DOMMouseScroll",l[c].actions[0]);l.splice(c,1);break}}else f.removeOriginalEventListener(a,"mousewheel",d)},onmouseenter:function(a,b,d){var c=function(k){var m=k.relatedTarget;
if(m)if(this.compareDocumentPosition){var w=this.compareDocumentPosition(m);m==this||w==20||w==0||d.call(this,k)}else m==this||this.contains(m)||d.call(this,k);else d.call(this,k)};f.addEventListener(a,"mouseover",c);l.push({element:a,eventType:b,handler:d,actions:[c]})},offmouseenter:function(a,b,d){for(var c in l)if(l[c].handler==d&&l[c].element==a&&l[c].eventType==b){f.removeEventListener(a,"mouseover",l[c].actions[0]);l.splice(c,1);break}},onmouseleave:function(a,b,d){var c=function(k){var m=
k.relatedTarget;if(m)if(this.compareDocumentPosition){m=this.compareDocumentPosition(m);m==20||m==0||d.call(this,k)}else this.contains(m)||d.call(this,k);else d.call(this,k)};f.addEventListener(a,"mouseout",c);l.push({element:a,eventType:b,handler:d,actions:[c]})},offmouseleave:function(a,b,d){for(var c in l)if(l[c].handler==d&&l[c].element==a&&l[c].eventType==b){f.removeEventListener(a,"mouseout",l[c].actions[0]);l.splice(c,1);break}},oninput:function(a,b,d){if(g.browser.ie){var c=function(k){if(k.propertyName.toLowerCase()==
"value"){k=e(k,a);d.call(a,k)}};a.attachEvent("onpropertychange",c);l.push({element:a,eventType:b,handler:d,actions:[c]});g.browser.ie==9&&f.addOriginalEventListener(a,"change",d)}else f.addOriginalEventListener(a,"input",d)},offinput:function(a,b,d){if(g.browser.ie){for(var c in l)if(l[c].handler==d&&l[c].element==a&&l[c].eventType==b){a.detachEvent("onpropertychange",l[c].actions[0]);l.splice(c,1);break}g.browser.ie==9&&f.removeOriginalEventListener(a,"change",d)}else f.removeOriginalEventListener(a,
"input",d)}};i=function(a){if(i.done)return a();if(i.timer)i.ready.push(a);else{i.ready=[a];f.on(window,"load",h);i.timer=window.setInterval(h,300)}};h=function(){if(i.done)return true;if(document&&document.getElementsByTagName&&document.getElementById&&document.body){i.done=true;window.clearInterval(i.timer);i.timer=null;for(var a=0;a<i.ready.length;a++)i.ready[a]();i.ready=null;return true}};o=function(){this.subscribers=[]};o.prototype.subscribe=function(a){g.array.some(this.subscribers,function(b){return b===
a})||this.subscribers.push(a);return a};o.prototype.deliver=function(a){g.array.forEach(this.subscribers,function(b){b(a)})};o.prototype.unsubscribe=function(a){this.subscribers=g.array.filter(this.subscribers,function(b){return b!==a});return a};n=function(a,b,d){var c,k;if(d){b="on"+b;if(!a._$events)a._$events={};if(a._$events[b]){if(a._$events[b].length==0)a._$events[b]=[]}else a._$events[b]=[];a=a._$events[b];b=a.length;c=-1;for(k=0;k<b;k++)if(a[k]==d){c=k;break}c===-1&&a.push(d)}else g.out(">>> \u6dfb\u52a0\u7684\u89c2\u5bdf\u8005\u65b9\u6cd5\u4e0d\u5b58\u5728\uff1a"+
a+b+d)};f.addEventListener=q;f.removeEventListener=r;f.addOriginalEventListener=u;f.removeOriginalEventListener=s;f.on=f.addEventListener;f.off=f.removeEventListener;f.onDomReady=i;f.Publish=o;f.addObserver=n;f.addObservers=function(a){var b=a.targetModel;a=a.eventMapping;for(var d in a)n(b,d,a[d])};f.notifyObservers=function(a,b,d){var c;b="on"+b;var k=true;if(a._$events&&a._$events[b]){b=a._$events[b];if(b.length>0)for(c=0;c<b.length;c++)if(b[c].apply(a,[d])===false)k=false}return k};f.removeObserver=
function(a,b,d){var c,k=false,m,w=a._$events;if(d){if(w){b="on"+b;if(a=w[b]){m=a.length;for(c=0;c<m;c++)if(a[c]==d){a[c]=null;a.splice(c,1);k=true;break}}}}else if(b){if(w){b="on"+b;if(a=w[b]){m=a.length;for(c=0;c<m;c++)a[c]=null;delete w[b];k=true}}}else if(a)if(w){for(c in w)delete w[c];delete a._$events;k=true}return k}});
Jx().$package(function(g){g.string=g.string||{};var f=g.string,q,u,r,s,t,l,i,h,o,n;q=function(){function e(B){k="var ";m={};m[c]=1;B=B.split(b);for(var j="",p=0,v=B.length;p<v;p++){var x=B[p].split(d);if(x.length==1)j+=a(x[0]);else{j=j;var C=x[0];if(/^=/.test(C))C=w[1]+C.substring(1).replace(/[\s;]*$/,"")+w[2];var G=C;G=G.replace(/\/\*.*?\*\/|'[^']*'|"[^"]*"|\.[\$\w]+/g,"");G=G.split(/[^\$\w\d]+/);for(var H=0,I=G.length;H<I;H++){var F=G[H];if(!(!F||A[F]||/^\d/.test(F)))if(!m[F]){k+=F==="print"?w[4]:
F+'=$data.hasOwnProperty("'+F+'")?$data.'+F+":window."+F+",";m[F]=1}}j=j+(C+"\n");j+=x[1]?a(x[1]):""}}return new Function("$data",k+w[0]+j+"return "+w[3])}function a(B){B=B.replace(/('|"|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n");B=w[1]+'"'+B+'"'+w[2];return B+"\n"}for(var b="<%",d="%>",c="$return",k="var ",m,w="".trim?[c+' = "";',c+" +=",";",c+";","print=function(){"+c+'+=[].join.call(arguments,"")},']:[c+" = [];",c+".push(",")",c+'.join("");',"print=function(){"+c+".push.apply(arguments)},"],
z="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield".split(","),A={},y=0,E=z.length;y<E;y++)A[z[y]]=1;var D={};return function(B,j){var p=!/\W/.test(B)?
D[B]||(D[B]=e(document.getElementById(B).innerHTML)):e(B);return j?p(j):p}}();u=function(e){return u.RE.test(e)};u.RE=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i;r=function(e){var a=null;if(null!==(a=r.RE.exec(e))){e={};for(var b=0,d=r.SPEC.length;b<d;b++)e[r.SPEC[b]]=a[b+1];a=e}return a};r.SPEC=["scheme","user","pass","host","port","path","query","fragment"];r.RE=/^([^:]+):\/\/(?:([^:@]+):?([^@]*)@)?(?:([^/?#:]+):?(\d*))([^?#]*)(?:\?([^#]+))?(?:#(.+))?$/;s=function(e){return String(e).replace(/^\s+|\s+$/g,
"")};t=function(e,a){return encodeURIComponent(String(e))+"="+encodeURIComponent(String(a))};l=function(e,a){a=a||2;return e.replace(/[^\x00-\xff]/g,{2:"aa",3:"aaa"}[a]).length};i=function(e,a){return e.substring(0,e.length-a)};h=function(e){return e.replace(/[&'"<>\/\\\-\x00-\x09\x0b-\x0c\x1f\x80-\xff]/g,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/ /g,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n/g,"<br />").replace(/\r/g,"<br />")};o=function(e){return escape(e).replace(/\+/g,"%2B")};
n=function(e,a){var b=document.createElement("div");b.style.visibility="hidden";b.style.width="auto";if(a)b.style.fontSize=a+"px";b.style.position="absolute";b.innerHTML=g.string.encodeHtmlSimple(e);document.body.appendChild(b);var d=b.offsetWidth;document.body.removeChild(b);return d};f.cutByWidth=function(e,a,b){for(var d=e.length;d>=0;--d){e=e.substring(0,d);if(n(e,a)<b)return e}return""};f.toString=function(e){return e+""};f.template=q;f.isURL=u;f.parseURL=r;f.buildURL=function(e){for(var a="",
b={},d={},c=0,k=r.SPEC.length;c<k;c++){var m=r.SPEC[c];if(e[m]){switch(m){case "scheme":d[m]="://";break;case "pass":b[m]=":";case "user":b.host="@";break;case "port":b[m]=":";break;case "query":b[m]="?";break;case "fragment":b[m]="#"}if(m in b)a+=b[m];if(m in e)a+=e[m];if(m in d)a+=d[m]}}return a};f.mapQuery=function(e){var a,b;e=e&&e.split("#")[0]||window.location.search;var d=e.indexOf("?"),c=e.substring(d+1).split("&"),k={};if(d===-1)return k;for(e=0;e<c.length;e++)try{d=c[e].indexOf("=");a=c[e].substring(0,
d);b=c[e].substring(d+1);if(!(k[a]=unescape(b)))throw Error("uri has wrong query string when run mapQuery.");}catch(m){}return k};f.test=function(e,a,b){return(typeof a=="string"?RegExp(a,b):a).test(e)};f.contains=function(e,a,b){return b?(b+e+b).indexOf(b+a+b)>-1:e.indexOf(a)>-1};f.trim=s;f.clean=function(e){return s(e.replace(/\s+/g," "))};f.camelCase=function(e){return e.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})};f.hyphenate=function(e){return e.replace(/[A-Z]/g,function(a){return"-"+
a.charAt(0).toLowerCase()})};f.capitalize=function(e){return e.replace(/\b[a-z]/g,function(a){return a.toUpperCase()})};f.escapeRegExp=function(e){return e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")};f.toInt=function(e,a){return parseInt(e,a||10)};f.toFloat=function(e){return parseFloat(e)};f.toSingleLine=function(e){return String(e).replace(/\r/gi,"").replace(/\n/gi,"")};f.toHtml=function(e){return String(e).replace(/&/gi,"&amp;").replace(/\\/gi,"&#92;").replace(/\'/gi,"&#39;").replace(/\"/gi,"&quot;").replace(/</gi,
"&lt;").replace(/>/gi,"&gt;").replace(/ /gi,"&nbsp;").replace(/\r\n/g,"<br />").replace(/\n\r/g,"<br />").replace(/\n/g,"<br />").replace(/\r/g,"<br />")};f.toTitle=function(e){return String(e).replace(/\\/gi,"\\").replace(/\'/gi,"'").replace(/\"/gi,"'")};f.toQueryPair=t;f.toQueryString=function(e){var a=[],b;for(b in e)a.push(t(b,e[b]));return a.join("&")};f.hexToRgb=function(e,a){var b=e.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return b?b.slice(1).hexToRgb(a):null};f.rgbToHex=function(e,a){var b=
e.match(/\d{1,3}/g);return b?b.rgbToHex(a):null};f.stripScripts=function(e,a){var b="",d=e.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(c,k){b+=k+"\n";return""});if(a===true)$exec(b);else $type(a)=="function"&&a(b,d);return d};f.substitute=function(e,a,b){return e.replace(b||/\\?\{([^{}]+)\}/g,function(d,c){if(d.charAt(0)=="\\")return d.slice(1);return a[c]!=undefined?a[c]:""})};f.replaceAll=function(e,a,b,d){return RegExp.prototype.isPrototypeOf(a)?e.replace(a,b):e.replace(RegExp(a,d?"gi":
"g"),b)};f.byteLength=l;f.cutRight=i;f.isNumber=function(e){return e.search(/^\d+$/)!==-1?true:false};f.isEmail=function(e){return e.search(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)!==-1?true:false};f.cutByBytes=function(e,a){for(var b=e;l(b)>a;)b=i(b,1);return b};f.encodeHtmlSimple=function(e){e=e.replace(/&/g,"&amp;");e=e.replace(/>/g,"&gt;");e=e.replace(/</g,"&lt;");e=e.replace(/"/g,"&quot;");return e=e.replace(/'/g,"&#39;")};f.decodeHtmlSimple=function(e){e=e.replace(/&amp;/g,
"&");e=e.replace(/&gt;/g,">");e=e.replace(/&lt;/g,"<");e=e.replace(/&quot;/g,'"');return e=e.replace(/&#39;/g,"'")};f.decodeHtmlSimple2=function(e){e=e.replace(/&amp;/g,"&");e=e.replace(/&gt;/g,">");e=e.replace(/&lt;/g,"<");e=e.replace(/\\\\"/g,'"');return e=e.replace(/\\\\'/g,"'")};f.encodeHtmlAttributeSimple=function(e){e=e.replace(/&/g,"&amp;");e=e.replace(/>/g,"&gt;");e=e.replace(/</g,"&lt;");e=e.replace(/"/g,"&quot;");e=e.replace(/'/g,"&#39;");e=e.replace(/=/g,"&#61;");return e=e.replace(/`/g,
"&#96;")};f.encodeHtmlAttribute=function(e){return e.replace(/[&'"<>\/\\\-\x00-\x1f\x80-\xff]/g,function(a){return"&#"+a.charCodeAt(0)+";"})};f.encodeHtml=h;f.encodeScript=function(e){e+="";return e.replace(/[\\"']/g,function(a){return"\\"+a}).replace(/%/g,"\\x25").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\x01/g,"\\x01")};f.encodeHrefScript=function(e){return h(o(escScript(e)))};f.encodeRegExp=function(e){return e.replace(/[\\\^\$\*\+\?\{\}\.\(\)\[\]]/g,function(a){return"\\"+a})};f.encodeUrl=
o;f.encodeUriComponent=function(e){e=encodeURIComponent(e);e=e.replace(/~/g,"%7E");e=e.replace(/!/g,"%21");e=e.replace(/\*/g,"%2A");e=e.replace(/\(/g,"%28");e=e.replace(/\)/g,"%29");e=e.replace(/'/g,"%27");e=e.replace(/\?/g,"%3F");return e=e.replace(/;/g,"%3B")};f.vaildTencentUrl=function(e){return/^(https?:\/\/)?[\w\-.]+\.(qq|paipai|soso|taotao)\.com($|\/|\\)/i.test(e)||/^[\w][\w\/\.\-_%]+$/i.test(e)||/^[\/\\][^\/\\]/i.test(e)?true:false};f.vaildUrl=function(e){e=encodeURI(e).replace(/(^\s*)|(\s*$)/g,
"");var a=/(^[a-zA-Z0-9]+[^.]):/,b=/^[\S.]+\.[\S.]+$/,d=/[\w.]+\/(\S*)/,c=/^[\s*]*javascript[\s*]*:/;if(!a.test(e)&&!b.test(e))e="";else{a.test(e)||(e="http://"+e);d.test(e)||(e+="/");if(c.test(e))e=""}return e};f.getCharWidth=n});
Jx().$package(function(g){var f=g.dom.id,q=g.dom,u=g.event,r=g.string,s=this,t=g.string.mapQuery(window.location.search),l=window.open;window.open=function(h,o,n,e){if(o==undefined)o="_blank";if(n==undefined)n="";if(e==undefined)e=false;if(!l(h,o,n,e)){g.out("\u4f60\u7684\u673a\u5668\u4e0a\u6709\u8f6f\u4ef6\u62e6\u622a\u4e86\u5f39\u51fa\u7a97\u53e3");return false}return true};var i=new g.Class({_defaultType:3,_defaultTag:"information",_defaultTemplate:"<%=msg%>(<%=type%>#<%=tag%>@<%=time%>)",TYPE:["PROFILE",
"WARNING","ERROR","INFO","DEBUG"],init:function(h){this.msg=h.msg||"";this.tag=h.tag||this._defaultTag;this.type=g.isUndefined(h.type)?this._defaultType:h.type;this.time=(new Date).valueOf();this._template=h.template||this._defaultTemplate},format:function(h,o,n){n=n||this._template;return o?r.encodeHtml(r.template(n,h)):r.template(n,h)},parseOption:function(){return{msg:this.msg,time:this.time,type:this.TYPE[this.type],tag:this.tag}},toString:function(h,o){return this.format(this.parseOption(),h,
o||this._template)}});g.config={debugLevel:1};g.console={};g.Report={receive:g.emptyFunc,addRule:g.emptyFunc};g.extend(g.console,{_isCreated:false,_maxLength:1E3,_html:'<div id="ConsoleBoxHead" class="consoleBoxHead">                        <a href="###" id="ConsoleCloseButton" class="consoleCloseButton" title="\u5173\u95ed">X</a>                        <a href="###" id="ConsoleClearButton" class="consoleCloseButton" title="\u6e05\u9664\u6240\u6709\u65e5\u5fd7">C</a>                        <a href="###" id="ConsoleRefreshButton" class="consoleCloseButton" title="\u8fd8\u539f\u6240\u6709\u65e5\u5fd7">R</a>                        <a href="###" id="ConsoleHelpButton" class="consoleCloseButton" title="\u63a7\u5236\u53f0\u5e2e\u52a9">H</a>                        <h5 class="title" title="\u63a7\u5236\u53f0">Console</h5>                    </div>                    <div id="consoleMain" class="consoleMain">                        <ul id="ConsoleOutput" class="consoleOutput"></ul>                    </div>                    <div class="consoleInputBox">                        &gt;<input id="ConsoleInput" class="consoleInput" title="\u8bf7\u8f93\u5165\u63a7\u5236\u53f0\u6307\u4ee4\u6216\u8005Javascript\u8bed\u53e5..." />                    </div>',
_cssText:'                        html{                            _background:url(about:blank);                        }                                                .consoleBox{                            display:none;                            position:fixed;                            _position: absolute;                            _top:expression(documentElement.scrollTop+documentElement.clientHeight-this.offsetHeight);                            _left:expression(documentElement.scrollLeft+documentElement.clientWidth-this.offsetWidth-200);                            right: 200px;                            bottom: 30px;                            z-index: 10000000;                            border: 2px solid #bbb;                            padding: 5px;                            width: 300px;                            height:310px;                            background: #000;                            box-shadow: 1px 1px 20px rgba(0, 0, 0, 0.75);                            filter: Alpha(opacity:75);                            font-family: "Courier New", Consolas, "LucidaConsole", Monaco, monospace;                            font-size: 12px;                            color: #fff;                        }                                                html.webkit .consoleBox{                            background: rgba(0,0,0,0.75);                        }                                                .consoleBoxHead{                            height:20px;                            background: rgba(255,255,255,0.15);                            overflow:hidden;                            cursor:default;                            padding: 2px;                        }                                                .consoleBoxHead .title{                            margin:0;                            padding: 0 0 0 3px;                            height:20px;                            line-height:20px;                            font-family: Verdana;                        }                                                .consoleBoxHead .consoleCloseButton{                            float:right;                            border:0px solid #000;                            width:20px;                            height:18px;                            line-height:16px;                            background: white;                            margin:1px 1px;                            padding:0px;                            color:#666;                            font-family: Verdana;                            font-weight:bold;                            cursor:pointer;                            border-radius:3px;                            -moz-border-radius:3px;                            -webkit-border-radius:3px;                            text-align:center;                            text-decoration:none;                        }                                                .consoleBoxHead .consoleCloseButton:hover{                            background: orange;                            color:white;                            text-decoration:none;                        }                                                #ConsoleCloseButton:hover{                            background: red;                        }                                                #ConsoleClearButton:hover{                            background: blue;                        }                                                #ConsoleRefreshButton:hover{                            background: green;                        }                                                .consoleMain{                            position:relative;                            top:2px;                            bottom:0px;                            width:100%;                            height:255px;                            overflow:auto;                        }                        html.mobileSafari .consoleMain{                            overflow:hidden;                        }                                                ul.consoleOutput{                            display:block;                            margin:0;                            padding:0;                            width:100%;                            list-style:none;                        }                                                ul.consoleOutput li{                            list-style:none;                            padding:3px;                            border-bottom:1px solid #333333;                            word-break: break-all;                            word-wrap: break-word;                            overflow: hidden;                            zoom: 1;                        }                                                .consoleOutput .log_icon{                            width:13px;                            height:13px;                            background:#fff;                            overflow:hidden;                            float:left;                            margin-top:2px;                            font-weight:bold;                            text-align:center;                            font-size:12px;                            color:#8B8B8B;                            line-height:135%;                            cursor:default;                            border-radius:3px;                            -moz-border-radius:3px;                            -webkit-border-radius:3px;                        }                                                .consoleOutput .log_text{                            margin: 0px 0px 0px 20px;                            line-height:150%;                            zoom: 1;                        }                                                .log_error_type{}                                                .log_error_type .log_icon{                            background:#FF0000;                            color:#660000;                        }                                                .log_error_type .log_text{                            color:#FF0000;                        }                                                .log_warning_type{}                                                .log_warning_type .log_icon{                            background:#FFFF00;                            color:#8C7E00;                        }                                                .log_warning_type .log_text{                            color:#FFFF00;                        }                                                .log_debug_type{}                                                .log_debug_type .log_icon{                            background:#33CC00;                            color:#006600;                        }                                                .log_debug_type .log_text{                            color:#33cc00;                        }                                                .log_info_type{}                                                .log_info_type .log_icon{                            background:#0066FF;                            color:#000066                        }                                                .log_info_type .log_text{                            color:#0066FF;                        }                                                .log_profile_type{}                                                .log_profile_type .log_icon{                        }                                                .log_profile_type .log_text{                            color:white;                        }                                                #JxConsole .consoleInputBox{                            font-family: Verdana;                            font-size:12px;                            margin:5px 0;                            padding:2px 0;                            border-top:1px solid #aaa;                            width:100%;                            color:#CCFF00;                        }                                                #JxConsole  input.consoleInput{                            border:0px solid #666;                            background:transparent;                            color:#CCFF00;                            font-family: "Courier New", Consolas, "LucidaConsole", Monaco, monospace;                            font-size:12px;                            width:285px;                            height:25px;                            margin-left:3px;                            outline:none;                        }                         ',
_opened:false,_log_record:[],_cmd_history:[],_cmd_last_index:0,isCustomConsole:true,_templateArr:["<%=msg%>","<%=msg%>(<%=type%>#<%=tag%>@<%=time%>)"],_templateType:0,_typeInfo:[["log_profile_type","\u2514"],["log_warning_type","!"],["log_error_type","x"],["log_info_type","i"],["log_debug_type","\u221a"]],TYPE:{PROFILE:0,WARNING:1,ERROR:2,INFO:3,DEBUG:4},show:function(){this._isCreated||this._create();this._opened=true;this._main.style.display="block";this.render();window.setTimeout(g.bind(this.focusCommandLine,
this),0)},hide:function(h){h&&h.preventDefault();this.clear();g.console._main.style.display="none";g.console._opened=false},enable:function(){g.option.console=true;this.show()},disable:function(){g.option.console=false;this.hide()},_init:function(){u.on(document,"keydown",g.bind(this.handleDocumentKeydown,this));g.option.console&&this.show();this.setToDebug()},_create:function(){q.createStyleNode(this._cssText);this._main=document.createElement("div");this._main.id="JxConsole";this._main.style.display=
"none";this._main.className="consoleBox";this._main.innerHTML=this._html;window.document.body.appendChild(this._main);var h=q.getClientWidth(),o=q.getClientHeight();h=h-210-300;q.setStyle(this._main,"top",o-50-310+"px");q.setStyle(this._main,"left",h+"px");this._headEl=f("ConsoleBoxHead");this._inputEl=f("ConsoleInput");this._closeButtonEl=f("ConsoleCloseButton");this._clsButtonEl=f("ConsoleClearButton");this._refreshButtonEl=f("ConsoleRefreshButton");this._helpButtonEl=f("ConsoleHelpButton");this._outputEl=
f("ConsoleOutput");this._consoleMainEl=f("consoleMain");g.ui&&g.ui.Drag&&new g.ui.Drag(this._headEl,this._main);u.on(this._inputEl,"keyup",g.bind(this.onInputKeyup,this));u.on(this._clsButtonEl,"click",g.bind(this.clear,this));u.on(this._refreshButtonEl,"click",g.bind(this.refresh,this));u.on(this._helpButtonEl,"click",g.bind(this.help,this));u.on(this._closeButtonEl,"click",g.bind(this.hide,this));o={hScrollbar:true,vScrollbar:true,checkDOMChanges:false,desktopCompatibility:true};if(g.browser.mobileSafari)if(g.ui&&
g.ui.iScroll&&!this.consoleScroller){this.consoleScroller=new g.ui.iScroll(this._outputEl,o);g.debug("!!!!2","console")}this._isCreated=true},handleDocumentKeydown:function(h){switch(h.keyCode){case 192:if(h.ctrlKey&&h.shiftKey){this.toggleShow();h.preventDefault()}}},focusCommandLine:function(){this._inputEl.focus()},toggleShow:function(){this._opened?this.hide():this.show()},outConsoleShow:function(h,o){this.outConsole(h,o);!this._opened&&g.option.console&&this.show()},outConsole:function(h){if(this._opened){var o=
document.createElement("li");this._outputEl.appendChild(o);var n=g.console._typeInfo[h.type]||g.console._typeInfo[0],e=this._templateArr[this._templateType];o.className=n[0];o.innerHTML='<div class="log_icon" title="'+n[0]+'">'+n[1]+'</div><div class="log_text">'+h.toString(true,e)+"</div>";this.consoleScroller&&this.consoleScroller.refresh();this._consoleMainEl.scrollTop=this._consoleMainEl.scrollHeight}},print:function(h){var o=document.createElement("li");this._outputEl.appendChild(o);o.innerHTML=
h;this._consoleMainEl.scrollTop=this._consoleMainEl.scrollHeight},out:function(h,o,n){var e=this._templateArr[this._templateType];h=new i({msg:h,tag:o,type:n});this.logRecord(h);if(t&&t.consolefilter){if(h.tag==t.consolefilter)this.isCustomConsole?this.outConsole(h):s.console.log(h.toString(false,e))}else this.isCustomConsole?this.outConsole(h):s.console.log(h.toString(false,e))},profile:function(h,o){o=o||"system";this.out(h,o,0)},warn:function(h,o){this.out(h,o,1)},error:function(h,o){this.out(h,
o,2)},info:function(h,o){this.out(h,o,3)},debug:function(h,o){this.out(h,o,4)},setToDebug:function(){this.isCustomConsole=t.console&&t.console=="firebug"?false:true},setToNoDebug:function(){this.out=g.emptyFunc},logRecord:function(h){this._log_record.push(h);t.console||this._log_record.length>this._maxLength&&this._log_record.shift()},setTemplate:function(h){if(this._templateArr[h])this._templateType=h},filter:function(h){var o=RegExp(h,"i"),n=[];g.array.forEach(this._log_record,function(e){var a=
e.toString(true);o.test(a)&&n.push(e)});return n},filterByType:function(h,o){var n=[];h=h||[];g.array.forEach(h,function(e){var a=false;g.array.forEach(o,function(b){if(e.type==b)a=true});a&&n.push(e)});return n},filterByTag:function(h,o){var n=[];h=h||[];g.array.forEach(h,function(e){var a=false;g.array.forEach(o,function(b){if(e.tag==b)a=true});a&&n.push(e)});return n},filterByMsg:function(h,o){var n=[];h=h||[];g.array.forEach(h,function(e){var a=false;g.array.forEach(o,function(b){if(e.msg.indexOf(b)>
-1)a=true});a&&n.push(e)});return n},getReport:function(h,o,n){var e=[],a=this._log_record,b=this;if(!h||h=="")h=false;else g.isArray(h)||(h=[h]);if(!o||o=="")o=false;else g.isArray(o)||(o=[o]);if(!n||n=="")n=false;else g.isArray(n)||(n=[n]);if(h)a=this.filterByType(a,h);if(o)a=this.filterByTag(a,o);if(n)a=this.filterByMsg(a,n);g.array.forEach(a,function(d){e.push(d.toString(false,b._templateArr[1]))});return e.join(",")},render:function(h,o){h=h||this._log_record;o||(h=h.slice(-15));var n=this;n.clear();
g.array.forEach(h,function(e){n.outConsole(e)})},clear:function(h){h&&h.preventDefault();g.console._outputEl.innerHTML=""},refresh:function(h){h&&h.preventDefault();this.clear();this.render()},help:function(h){h&&h.preventDefault();this.print("&lt;&lt; Console Help &gt;&gt;<br/>                                help|h  : \u63a7\u5236\u53f0\u5e2e\u52a9<br/>                                clear|cls : \u6e05\u7a7a\u63a7\u5236\u53f0\u8f93\u51fa<br/>                                refresh|r : \u5237\u65b0\u63a7\u5236\u53f0\u8f93\u51fa<br/>                                filter|f : \u8fc7\u6ee4\u63a7\u5236\u53f0\u8f93\u51fa<br/>                                setTemplate|s : \u8bbe\u7f6e\u8f93\u51fa\u6a21\u7248\u7c7b\u578b<br/>                                hide  : \u9690\u85cf\u63a7\u5236\u53f0\uff0c\u6216\u8005\u4f7f\u7528 Ctrl+Shift+`[~] \u5feb\u6377\u952e")},
onInputKeyup:function(h){switch(h.keyCode){case 13:this._cmd_history.push(g.console._inputEl.value);this._cmd_last_index=this._cmd_history.length;this._execCommand(g.console._inputEl.value);break;case 38:if(this._cmd_history.length==0)break;h="";if(this._cmd_last_index>0){this._cmd_last_index--;h=this._cmd_history[this._cmd_last_index]}else this._cmd_last_index=-1;g.console._inputEl.value=h;break;case 40:if(this._cmd_history.length==0)break;h="";if(this._cmd_last_index<this._cmd_history.length-1){this._cmd_last_index++;
h=this._cmd_history[this._cmd_last_index]}else this._cmd_last_index=this._cmd_history.length;g.console._inputEl.value=h}},_execCommand:function(h){if(h=="help"||h=="h")this.help();else if(h=="clear"||h=="cls")g.console.clear();else if(h=="hide")g.console.hide();else if(h=="refresh"||h=="r")this.refresh();else if(h=="showall"||h=="sa"){this.clear();this.render(null,true)}else if(RegExp(/^(?:filter|f)(?:\(|\s+)(.+)(?:\)|\s*)$/i).test(h)){h=eval("this.filter('"+RegExp.$1+"')");if(h.length>0)this.render(h,
true);else{this.clear();this.out("NO RESULT!",1)}}else if(RegExp(/^(?:setTemplate|s)(?:\(|\s+)(\d+)(?:\)|\s*)$/i).test(h)){this.setTemplate(parseInt(RegExp.$1));this.refresh()}else this._execScript(h);g.console._inputEl.value=""},_execScript:function(h){var o='<span style="color:#ccff00">'+h+"</span><br/>";try{o+=(eval(h)||"").toString().replace(/</g,"&lt;").replace(/>/g,"&gt;");g.console.print(o,0)}catch(n){o+=n.description;g.console.print(o,1)}}});g.profile=g.console.profile;g.warn=g.console.warn;
g.error=g.console.error;g.info=g.console.info;g.log=g.console.log=g.console.info;g.debug=g.console.debug;u.onDomReady(function(){g.console._init();if(t.console=="true"){g.console=g.extend(g.console,{profile:g.emptyFunc,warn:g.emptyFunc,error:g.emptyFunc,info:g.emptyFunc,debug:g.emptyFunc});g.console.show()}});g.runtime=function(){function h(){return g.config.debugLevel>0}function o(e,a){var b;if(h())b=e+"\n=STACK=\n"+n();else if(a=="error")b=e;g.Debug.errorLogs.push(b)}function n(e,a){function b(k,
m){if(k.stack)return k.stack;else if(k.message.indexOf("\nBacktrace:\n")>=0){var w=0;return k.message.split("\nBacktrace:\n")[1].replace(/\s*\n\s*/g,function(){w++;return w%2==0?"\n":" @ "})}else{for(var z=m.callee==n?m.callee.caller:m.callee,A=z.arguments,y=[],E=0,D=A.length;E<D;E++)y.push(typeof A[E]=="undefined"?"<u>":A[E]===null?"<n>":A[E]);A=/function\s+([^\s\(]+)\(/;return((A.test(z.toString())?A.exec(z.toString())[1]:"<ANON>")+"("+y.join()+");").replace(/\n/g,"")}}var d;if(e instanceof Error&&
typeof arguments=="object"&&arguments.callee)d=b(e,a);else try{({}).sds()}catch(c){d=b(c,arguments)}return d.replace(/\n/g," <= ")}return{stack:n,warn:function(){o(write.apply(null,arguments),"warn")},error:function(){o(write.apply(null,arguments),"error")},isDebugMode:h}}()});
Jx().$package(function(g){var f=window.location.host;g.cookie={set:function(q,u,r,s,t){if(t){var l=new Date;l.setTime((new Date).getTime()+36E5*t)}window.document.cookie=q+"="+u+"; "+(t?"expires="+l.toGMTString()+"; ":"")+(s?"path="+s+"; ":"path=/; ")+(r?"domain="+r+";":"domain="+f+";");return true},get:function(q){q=window.document.cookie.match(RegExp("(?:^|;+|\\s+)"+q+"=([^;]*)"));return!q?"":q[1]},remove:function(q,u,r){window.document.cookie=q+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(r?"path="+
r+"; ":"path=/; ")+(u?"domain="+u+";":"domain="+f+";")}}});Jx().$package(function(g){g.localStorage={setItem:function(f,q){this.isSupports()&&window.localStorage.setItem(f,q)},getItem:function(f){if(this.isSupports())return window.localStorage.getItem(f);return null},removeItem:function(f){this.isSupports()&&window.localStorage.removeItem(f)},clear:function(){this.isSupports()&&window.localStorage.clear()},isSupports:function(){return"localStorage"in window&&window.localStorage!==null}}});
Jx().$package(function(g){g.format=g.format||{};g.format.date=function(f,q){var u={"M+":f.getMonth()+1,"D+":f.getDate(),"h+":f.getHours(),"m+":f.getMinutes(),"s+":f.getSeconds(),"q+":Math.floor((f.getMonth()+3)/3),S:f.getMilliseconds()};if(/(Y+)/.test(q))q=q.replace(RegExp.$1,(f.getFullYear()+"").substr(4-RegExp.$1.length));for(var r in u)if(RegExp("("+r+")").test(q))q=q.replace(RegExp.$1,RegExp.$1.length==1?u[r]:("00"+u[r]).substr((""+u[r]).length));return q};g.format.number=function(f,q){for(var u=
f?f.toString().split("."):["0"],r=q?q.split("."):[""],s="",t=u[0],l=r[0],i=t.length-1,h=false,o=l.length-1;o>=0;o--)switch(l.substr(o,1)){case "":if(i>=0)s=t.substr(i--,1)+s;break;case "0":s=i>=0?t.substr(i--,1)+s:"0"+s;break;case ",":h=true;s=","+s}if(i>=0)if(h)for(l=t.length;i>=0;i--){s=t.substr(i,1)+s;if(i>0&&(l-i)%3==0)s=","+s}else s=t.substr(0,i+1)+s;s+=".";t=u.length>1?u[1]:"";l=r.length>1?r[1]:"";for(o=i=0;o<l.length;o++)switch(l.substr(o,1)){case "":if(i<t.length)s+=t.substr(i++,1);break;
case "0":s+=i<t.length?t.substr(i++,1):"0"}return s.replace(/^,+/,"").replace(/\.$/,"")}});Jx().$package(function(g){g.date=g.date||{};g.date.format=g.format.date});Jx().$package(function(g){if(window.console)for(var f=["profile","warn","error","info","debug"],q=function(t,l){return function(i){t[l](i)}},u=0,r=f.length,s;u<r;u++){s=f[u];g[s]=console[s]?q(console,s=="profile"?"log":s):q(console,"log")}});
Jx().$package(function(g){var f=g.Class({init:function(){var q=this;this.op=[{".":function(u,r){return r.className==u},"+":function(u,r){return r.getAttribute(u)},"#":function(u,r){return r.id==u},".~":function(u,r){return $D.hasClass(r,u)}},{">":function(u,r){var s,t,l;l=u.split(">");t=l[0];l=l[1];if((l=="*"?true:q.match(l,r))&&(s=q.operate(q.detectAncestor,t,r)()))return q.packEvent(r,s);return false}},{"!":function(u,r){u=u.substr(1);return!q.match(u,r)}},{"&&":function(u,r){var s,t;t=u.split("&&");
s=t[0];t=t.slice(1).join("");if(q.match(s,r))return t.indexOf("&&")==-1?q.match(t,r):arguments.callee(t,r);return false}}];this.op2Level=[[".","#","+",".~"],">","!","&&"]},detectAncestor:function(q,u,r){var s=5,t=u.target;return function(){if(r(q,t))return t;else if(s>0){s--;if(t.parentNode)t=t.parentNode;else s=0;return arguments.callee()}return null}},detect:function(q,u,r){var s=u.target;if(s.nodeType!=1){s=s.parentNode;if(r(q,s))return this.packEvent(u,s)}else return r(q,s);return false},packEvent:function(q,
u){return[true,{target:u,oTarget:q.target,stopPropagation:function(){q.stopPropagation()},preventDefault:function(){q.preventDefault()},pageX:q.pageX,pageY:q.pageY}]},operate:function(q,u,r){for(var s,t=3;t>0;){if(s=this.op[0][u.substr(0,t)]){var l=null;if(l=q(u.substr(t),r,s))return l}t--}return false},match:function(q,u){for(var r=this.op2Level.length;r>0;r--){var s=this.op2Level[r];if(q.indexOf(s)!=-1)return this.op[r][s](q,u,void 0)}return this.operate(this.detect,q,u)},router:function(q,u,r){q=
q.split(",");var s;for(r=q.length-1;r>=0;r--)if(s=this.match(q[r],u))return s;return false},parse:function(q,u,r){q=this.router(q,r);if(q.length==2)u(q[1]);else q&&u(r)}});g.event.eventParser=new f});
Jx().$package(function(g){var f=g.event,q={"#":"id",".":"className","@":"el","!":"!"},u={blur:1,focus:1,change:1};g.event.eventProxy=function(r,s){var t={},l,i;for(l in s){i=s[l];var h=l.split(" "),o=h[0];h=h[1];t[h]=t[h]||[];t[h].push([o,i])}l=i=null;for(l in t){i=t[l];if(u[l]||l.charAt(0)=="@")for(h=i.length-1;h>=0;h--){o=i[h][0].split(",");for(var n=o.length-1;n>=0;n--){var e=q[o[n].charAt(0)];if(e=="id")f.on($D.id(o[n].substr(1)),l,i[h][1]);else e=="el"&&f.on(r,l.substr(1),i[h][1])}}else f.on(r,
l,function(a){for(var b=i.length-1;b>=0;b--)g.event.eventParser.parse(i[b][0],i[b][1],a)})}}});
Jx().$package(function(g){g.fx=g.fx||{};var f=g.dom,q=g.event,u=new g.Class({init:function(a,b){b=g.array.toArray(b);return g.extend(a,{easeIn:function(d){return a(d,b)},easeOut:function(d){return 1-a(1-d,b)},easeInOut:function(d){return d<=0.5?a(2*d,b)/2:(2-a(2*(1-d),b))/2}})}}),r={linear:function(a){return a},extend:function(a){for(var b in a)this[b]=new u(a[b])}};r.extend({pow:function(a,b){return Math.pow(a,b&&b[0]||6)},exponential:function(a){return Math.pow(2,8*(a-1))},circular:function(a){return 1-
Math.sin(Math.acos(a))},sinusoidal:function(a){return 1-Math.sin((1-a)*Math.PI/2)},back:function(a,b){b=b&&b[0]||1.618;return Math.pow(a,2)*((b+1)*a-b)},bounce:function(a){for(var b,d=0,c=1;;d+=c,c/=2)if(a>=(7-4*d)/11){b=c*c-Math.pow((11-6*d-11*a)/4,2);break}return b},elastic:function(a,b){return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(b&&b[0]||1)/3)}});g.array.forEach(["quadratic","cubic","quartic","quintic"],function(a,b){r[a]=new u(function(d){return Math.pow(d,[b+2])})});var s=new g.Class({init:function(a){this.setOption(a)},
setOption:function(a){this.option=g.extend({duration:500,loop:1,fps:1E3/(a&&a.duration||500)},a)},start:function(){if(!this.check())return this;var a=this.option;this.time=0;this.loop=a.loop;this.onStart.apply(this,arguments);this.startTimer();return this},pause:function(){this.stopTimer();return this},resume:function(){this.startTimer();return this},end:function(){this.stopTimer()&&this.onEnd.apply(this,arguments);return this},cancel:function(){this.stopTimer()&&this.onCancel.apply(this,arguments);
return this},onStart:function(){q.notifyObservers(this,"start")},onEnd:function(){q.notifyObservers(this,"end")},onCancel:function(){q.notifyObservers(this,"cancel")},onLoop:function(){q.notifyObservers(this,"loop")},onBeater:function(){q.notifyObservers(this,"beater")},check:function(){if(!this.timer)return true;return false},setDuration:function(a){this.option.duration=a||500},update:function(){var a=g.now(),b=this.option;if(a<this.time+this.option.duration)this.onBeater((a-this.time)/b.duration);
else{this.onBeater(1);this.onLoop();if(b.loop<=0||--this.loop)this.time=a;else{this.stopTimer();this.onEnd()}}},stopTimer:function(){if(!this.timer)return false;this.time=g.now()-this.time;this.timer=h(this);return true},startTimer:function(){if(this.timer)return false;this.time=g.now()-this.time;this.timer=i(this);return true}}),t={},l={},i=function(a){var b=a.option.fps,d=t[b]||(t[b]=[]);d.push(a);l[b]||(l[b]=setInterval(function(){for(var c=d.length;c--;)d[c]&&d[c].update()},Math.round(1E3/b)));
return true},h=function(a){var b=a.option.fps,d=t[b]||[];g.array.remove(d,a);if(!d.length&&l[b])l[b]=clearInterval(l[b]);return false},o=new g.Class({extend:s},{init:function(a){o.superClass.init.apply(this,arguments);this.option=this.option||{};a=g.extend(this.option,{element:null,property:"",from:0,to:1,unit:false,transition:r.linear,fps:25,converter:n},a);this.from=a.from;this.to=a.to},getTransition:function(){return this.option.transition||r.sinusoidal.easeInOut},set:function(a){var b=this.option;
this.render(b.element,b.property,a,b.unit);return this},setFromTo:function(a,b){this.from=a;this.to=b},render:function(a,b,d,c){f.setStyle(a,b,this.option.converter(d,c))},compute:function(a,b,d){return(b-a)*d+a},onStart:function(a,b){var d=this.option;this.from=g.isNumber(a)?a:d.from;this.to=g.isNumber(b)?b:d.to;q.notifyObservers(this,"start")},onEnd:function(){this.set(this.compute(this.from,this.to,this.option.transition(1)));q.notifyObservers(this,"end")},onCancel:function(){this.set(this.compute(this.from,
this.to,this.option.transition(0)));q.notifyObservers(this,"cancel")},onBeater:function(a){this.set(this.compute(this.from,this.to,this.option.transition(a)))}}),n=function(a,b){return b?a+b:a},e=new g.Class({init:function(a){this.option=a=g.extend({element:null,property:"",from:0,to:0,unit:false,duration:500,transition:r.linear,fps:25},a);this.from=a.from;this.to=a.to},getTransition:function(){return this.option.transition||r.sinusoidal.easeInOut},update:function(){var a=g.now(),b=this.option;if(a<
this.time+this.option.duration)this.set(this.compute(this.from,this.to,b.transition((a-this.time)/b.duration)));else{this.set(this.compute(this.from,this.to,1));this.end()}},set:function(a){var b=this.option;this.render(b.element,b.property,a,b.unit);return this},setDuration:function(a){this.option.duration=a||500},setFromTo:function(a,b){this.from=a;this.to=b},render:function(a,b,d,c){d=c?d+c:d;f.setStyle(a,b,d)},compute:function(a,b,d){return(b-a)*d+a},check:function(){if(!this.timer)return true;
return false},start:function(a,b){if(!this.check(a,b))return this;var d=this.option;this.from=g.isNumber(a)?a:d.from;this.to=g.isNumber(b)?b:d.to;this.time=0;this.startTimer();this.onStart();return this},end:function(){this.stopTimer()&&this.onEnd();return this},cancel:function(){this.stopTimer()&&this.onCancel();return this},onStart:function(){q.notifyObservers(this,"start")},onEnd:function(){q.notifyObservers(this,"end")},onCancel:function(){q.notifyObservers(this,"cancel")},pause:function(){this.stopTimer();
return this},resume:function(){this.startTimer();return this},stopTimer:function(){if(!this.timer)return false;this.time=g.now()-this.time;this.timer=h(this);return true},startTimer:function(){if(this.timer)return false;this.time=g.now()-this.time;this.timer=i(this);return true}});g.fx.Beater=s;g.fx.Animation=o;g.fx.Animation2=e;g.fx.transitions=r});
Jx().$package(function(g){var f=window.JSON||{};(function(){function q(o){s.lastIndex=0;return s.test(o)?'"'+o.replace(s,function(n){var e=i[n];return typeof e==="string"?e:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function u(o,n){var e,a,b,d,c=t,k,m=n[o];if(m&&typeof m==="object"&&typeof m.toJSON==="function")m=m.toJSON(o);if(typeof h==="function")m=h.call(n,o,m);switch(typeof m){case "string":return q(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);
case "object":if(!m)return"null";t+=l;k=[];if(Object.prototype.toString.apply(m)==="[object Array]"){d=m.length;for(e=0;e<d;e+=1)k[e]=u(e,m)||"null";b=k.length===0?"[]":t?"[\n"+t+k.join(",\n"+t)+"\n"+c+"]":"["+k.join(",")+"]";t=c;return b}if(h&&typeof h==="object"){d=h.length;for(e=0;e<d;e+=1){a=h[e];if(typeof a==="string")if(b=u(a,m))k.push(q(a)+(t?": ":":")+b)}}else for(a in m)if(Object.hasOwnProperty.call(m,a))if(b=u(a,m))k.push(q(a)+(t?": ":":")+b);b=k.length===0?"{}":t?"{\n"+t+k.join(",\n"+t)+
"\n"+c+"}":"{"+k.join(",")+"}";t=c;return b}}var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t,l,i={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;if(typeof f.stringify!=="function")f.stringify=function(o,n,e){var a;l=t="";if(typeof e==="number")for(a=0;a<e;a+=1)l+=" ";
else if(typeof e==="string")l=e;if((h=n)&&typeof n!=="function"&&(typeof n!=="object"||typeof n.length!=="number"))throw Error("JSON.stringify");return u("",{"":o})};if(typeof f.parse!=="function")f.parse=function(o,n){function e(b,d){var c,k,m=b[d];if(m&&typeof m==="object")for(c in m)if(Object.hasOwnProperty.call(m,c)){k=e(m,c);if(k!==undefined)m[c]=k;else delete m[c]}return n.call(b,d,m)}var a;r.lastIndex=0;if(r.test(o))o=o.replace(r,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)});
if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){a=eval("("+o+")");return typeof n==="function"?e({"":a},""):a}throw new SyntaxError("JSON.parse");}})();g.json=f});
Jx().$package(function(g){var f=g.dom.id,q=g.dom,u=g.event,r;if(typeof window.XMLHttpRequest==="undefined")window.XMLHttpRequest=function(){return new window.ActiveXObject(navigator.userAgent.indexOf("MSIE 5")>=0?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")};g.http=g.http||{};r=function(l,i,h){var o,n,e,a,b=document.getElementsByTagName("head")?document.getElementsByTagName("head")[0]:document.documentElement,d,c=false,k=false;h=h||{};var m=h.isDefer||false;n=h.query||null;arguments=h.arguments||null;var w=
h.onSuccess||function(){},z=h.onError||function(){},A=h.onComplete||function(){},y,E=h.onTimeout||function(){},D=h.timeout,B=h.charset?h.charset:"utf-8",j=h.win||window,p;i=i||"";if(n!==null)i=i+"?"+n;a=r.Id++;y=function(v){(v=f("jet_load_"+v))&&b.removeChild(v)};n=function(v,x,C){return q.node("link",{id:"jet_load_"+a,type:"text/css",charset:C||"utf-8",rel:"stylesheet",href:v},x)};e=function(v,x,C,G){v=q.node("script",{id:"jet_load_"+a,type:"text/javascript",charset:C||"utf-8",src:v},x);G&&v.setAttribute("defer",
"defer");return v};if(l==="script")o=h.node||e(i,j,B,m);else if(l==="css")o=h.node||n(i,j,B);if(g.browser.engine.trident&&parseInt(g.browser.ie)<9)o.onreadystatechange=function(){var v=this.readyState;if(v==="loaded"||v==="complete"){o.onreadystatechange=null;if(!c){k=true;window.clearTimeout(d);d=null;p={};p.id=a;p.uri=i;p.arguments=arguments;w(p);A(p)}}};else if(g.browser.engine.webkit)u.on(o,"load",function(){var v;if(!c){k=true;window.clearTimeout(d);d=null;v={};v.id=a;v.uri=i;v.arguments=arguments;
w(v);A(v);l==="script"&&y(a)}});else{o.onload=function(){var v;if(!c){k=true;window.clearTimeout(d);d=null;v={};v.id=a;v.uri=i;v.arguments=h.arguments;w(v);A(v);l==="script"&&y(a)}};o.onerror=function(v){var x;if(!c){k=true;window.clearTimeout(d);d=null;x={};x.id=a;x.uri=i;x.arguments=arguments;x.error=v;z(x);A(x);y(a)}}}if(h.node)if(l==="script")o.src=i;else{if(l==="css")o.href=i}else b.appendChild(o);if(l==="script")if(D)d=window.setTimeout(function(){var v;if(!k){c=true;v={};v.uri=i;v.arguments=
arguments;E(v);A(v);y(a)}},D);m=function(v){this._node=v;this._head=b};m.prototype={abort:function(){this._node.src="";this._head.removeChild(this._node);delete this._node}};return new m(o)};r.Id=0;var s,t={_iframes:[],_tick:0,_select:function(){this._tick++;return this._iframes[(this._tick-1)%this._len]},init:function(l){if(this._isInit!=true){this._len=l;for(var i=document.body,h=0;h<l;h++){s=q.node("div",{"class":"RPCService_hDiv"});q.hide(s);s.innerHTML='<iframe id="RPCService_hIframe_'+h+'" name="RPCService_hIframe_'+
h+'" src="'+alloy.CONST.MAIN_URL+'domain.html"></iframe>';i.appendChild(s);this._iframes[h]=[s,null,"RPCService_hIframe_"+h]}this._isInit=true}},take:function(l){var i=this._select();i[1]&&i[0].removeChild(i[1]);l.setAttribute("target",i[2]);i[1]=l;i[0].appendChild(l)}};g.http.ajax=function(l,i){var h,o,n,e=false,a=false;i={method:(i.method||"GET").toUpperCase(),data:i.data||null,arguments:i.arguments||null,onSuccess:i.onSuccess||function(){},onError:i.onError||function(){},onComplete:i.onComplete||
function(){},onTimeout:i.onTimeout||function(){},isAsync:i.isAsync||true,timeout:i.timeout||3E4,contentType:i.contentType,type:i.type||"xml"};if(i.data&&typeof i.data==="object")i.data=g.string.toQueryString(i.data);l=l||"";n=i.timeout;h=new window.XMLHttpRequest;o=function(b){try{return!b.status&&location.protocol=="file:"||b.status>=200&&b.status<300||b.status==304||navigator.userAgent.indexOf("Safari")>-1&&typeof b.status=="undefined"}catch(d){}return false};h.onreadystatechange=function(){if(h.readyState==
4){if(!e){var b={};b.responseText=h.responseText;b.responseXML=h.responseXML;b.data=i.data;b.status=h.status;b.uri=l;b.arguments=i.arguments;if(i.type==="json")try{b.responseJSON=g.json.parse(h.responseText)}catch(d){}o(h)?i.onSuccess(b):i.onError(b);i.onComplete(b)}a=true;h=null}};if(i.method==="GET"){if(i.data){l+=(l.indexOf("?")>-1?"&":"?")+i.data;i.data=null}h.open("GET",l,i.isAsync);h.setRequestHeader("Content-Type",i.contentType||"text/plain;charset=UTF-8");h.send()}else if(i.method==="POST"){h.open("POST",
l,i.isAsync);h.setRequestHeader("Content-Type",i.contentType||"application/x-www-form-urlencoded;charset=UTF-8");h.send(i.data)}else{h.open(i.method,l,i.isAsync);h.send()}window.setTimeout(function(){var b;if(!a){e=true;b={};b.uri=l;b.arguments=i.arguments;i.onTimeout(b);i.onComplete(b)}},n);return h};g.http.comet=function(l,i){l=l||"";i={method:i.method||"GET",data:i.data||null,arguments:i.arguments||null,callback:i.callback||function(){},onLoad:i.onLoad||function(){},contentType:i.contentType?i.contentType:
"utf-8"};var h;if(g.browser.ie){h=new ActiveXObject("htmlfile");h.open();h.close();var o=h.createElement("div");h.appendChild(o);h.parentWindow._parent=self;o.innerHTML='<iframe id="_cometIframe" src="'+l+"?callback=window.parent._parent."+i.callback+'"></iframe>';h=h.getElementById("_cometIframe")}else{h=q.node("iframe");h.setAttribute("id","_cometIframe");h.setAttribute("src",l+"?callback=window.parent._parent."+i.callback);h.style.position="absolute";h.style.visibility="hidden";h.style.left=h.style.top=
"-999px";h.style.width=h.style.height="1px";document.body.appendChild(h);self._parent=self}u.on(h,"load",i.onLoad);return h};g.http.load=r;g.http.loadCss=function(l,i){return r("css",l,i)};g.http.loadScript=function(l,i){return r("script",l,i)};g.http.formSend=function(l,i){t.init(2);var h={method:i.method||"GET",enctype:i.enctype||"",data:i.data||{},onSuccess:i.onSuccess||function(){},onError:i.onError||function(){},onComplete:i.onComplete||function(){},onTimeout:i.onTimeout||function(){},timeout:i.timeout?
i.timeout:1E4},o=q.node("form",{"class":"RPCService_form",method:h.method,action:l+"?t="+(new Date).getTime(),enctype:h.enctype});if(Object.prototype.toString.call(h.data).indexOf("String")>-1){var n=q.node("input");n.type="text";n.name=h.data;o.appendChild(n)}else for(var e in h.data){n=q.node("input");n.type="text";n.name=e;n.setAttribute("value",h.data[e]);o.appendChild(n)}t.take(o);o.submit()}});
Jx().$package(function(g){var f=function(){function q(n,e){e=e||document;if(!/^[\w\-_#]+$/.test(n)&&e.querySelectorAll)return u(e.querySelectorAll(n));if(n.indexOf(",")>-1){for(var a=n.split(/,/g),b=[],d=0,c=a.length;d<c;++d)b=b.concat(q(a[d],e));return o(b)}a=n.match(s);d=a.pop();b=(d.match(l)||h)[1];c=!b&&(d.match(t)||h)[1];d=!b&&(d.match(i)||h)[1];if(c&&!d&&e.getElementsByClassName)d=u(e.getElementsByClassName(c));else{d=!b&&u(e.getElementsByTagName(d||"*"));if(c){d=d;c=RegExp("(^|\\s)"+c+"(\\s|$)");
for(var k=-1,m,w=-1,z=[];m=d[++k];)if(c.test(m.className))z[++w]=m;d=z}if(b)return(a=e.getElementById(b))?[a]:[]}return a[0]&&d[0]?r(a,d):d}function u(n){try{return Array.prototype.slice.call(n)}catch(e){for(var a=[],b=0,d=n.length;b<d;++b)a[b]=n[b];return a}}function r(n,e,a){var b=n.pop();if(b===">")return r(n,e,true);var d=[],c=-1,k=(b.match(l)||h)[1],m=!k&&(b.match(t)||h)[1];b=!k&&(b.match(i)||h)[1];var w=-1,z,A,y;for(b=b&&b.toLowerCase();z=e[++w];){A=z.parentNode;do{y=(y=(y=!b||b==="*"||b===
A.nodeName.toLowerCase())&&(!k||A.id===k))&&(!m||RegExp("(^|\\s)"+m+"(\\s|$)").test(A.className));if(a||y)break}while(A=A.parentNode);if(y)d[++c]=z}return n[0]&&d[0]?r(n,d):d}var s=/(?:[\w\-\\.#]+)+(?:\[\w+?=([\'"])?(?:\\\1|.)+?\1\])?|\*|>/ig,t=/^(?:[\w\-_]+)?\.([\w\-_]+)/,l=/^(?:[\w\-_]+)?#([\w\-_]+)/,i=/^([\w\*\-_]+)/,h=[null,null],o=function(){var n=+new Date,e=function(){var a=1;return function(b){var d=b[n],c=a++;if(!d){b[n]=c;return true}return false}}();return function(a){for(var b=a.length,
d=[],c=-1,k=0,m;k<b;++k){m=a[k];if(e(m))d[++c]=m}n+=1;return d}}();return q}();g.dom.mini=f});Jx().$package(function(g){g.number=g.number||{};g.number.format=g.format.number});
